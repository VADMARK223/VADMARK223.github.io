"use strict";(self.webpackChunkkg=self.webpackChunkkg||[]).push([[7],{6075:function(e,t,n){n.d(t,{Z:function(){return b}});var o=n(9439),r=n(1413),i=n(4925),a=n(184),l=n(2791),u=n(5869),c=n(8749),s=["children","className"];function d(){return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:(0,a.jsx)("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function f(){return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:(0,a.jsx)("path",{d:"M0 0h32v4.2H0z"})})}function h(){return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:(0,a.jsx)("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function v(){return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,a.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function g(){return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,a.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}var p=function(e){var t=e.children,n=e.className,o=(0,i.Z)(e,s);return(0,a.jsx)("button",(0,r.Z)((0,r.Z)({type:"button",className:(0,u.Z)(["react-flow__controls-button",n])},o),{},{children:t}))};p.displayName="ControlButton";var m=function(e){return e.nodesDraggable&&e.nodesConnectable&&e.elementsSelectable},y=function(e){var t=e.style,n=e.showZoom,r=void 0===n||n,i=e.showFitView,s=void 0===i||i,y=e.showInteractive,b=void 0===y||y,x=e.fitViewOptions,w=e.onZoomIn,S=e.onZoomOut,E=e.onFitView,C=e.onInteractiveChange,_=e.className,N=e.children,M=e.position,k=void 0===M?"bottom-left":M,Z=(0,c.AC)(),P=(0,l.useState)(!1),A=(0,o.Z)(P,2),O=A[0],D=A[1],I=(0,c.oR)(m),z=(0,c._K)(),R=z.zoomIn,B=z.zoomOut,j=z.fitView;if((0,l.useEffect)((function(){D(!0)}),[]),!O)return null;return(0,a.jsxs)(c.s_,{className:(0,u.Z)(["react-flow__controls",_]),position:k,style:t,"data-testid":"rf__controls",children:[r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p,{onClick:function(){R(),null===w||void 0===w||w()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",children:(0,a.jsx)(d,{})}),(0,a.jsx)(p,{onClick:function(){B(),null===S||void 0===S||S()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",children:(0,a.jsx)(f,{})})]}),s&&(0,a.jsx)(p,{className:"react-flow__controls-fitview",onClick:function(){j(x),null===E||void 0===E||E()},title:"fit view","aria-label":"fit view",children:(0,a.jsx)(h,{})}),b&&(0,a.jsx)(p,{className:"react-flow__controls-interactive",onClick:function(){Z.setState({nodesDraggable:!I,nodesConnectable:!I,elementsSelectable:!I}),null===C||void 0===C||C(!I)},title:"toggle interactivity","aria-label":"toggle interactivity",children:I?(0,a.jsx)(g,{}):(0,a.jsx)(v,{})}),N]})};y.displayName="Controls";var b=(0,l.memo)(y)},8749:function(e,t,n){n.d(t,{QZ:function(){return ye},s_:function(){return H},x$:function(){return mo},oI:function(){return ne},VP:function(){return He},YH:function(){return Ve},_K:function(){return mn},oR:function(){return X},AC:function(){return L}});var o=n(7762),r=n(4942),i=n(9439),a=n(3433),l=n(1413),u=n(4925),c=n(184),s=n(2791),d=n(5869),f=n(327).useSyncExternalStoreWithSelector;function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getState,n=arguments.length>2?arguments[2]:void 0,o=f(e.subscribe,e.getState,e.getServerState||e.getState,t,n);return(0,s.useDebugValue)(o),o}var v=function(e){var t,n=new Set,o=function(e,o){var r="function"===typeof e?e(t):e;if(!Object.is(r,t)){var i=t;t=(null!=o?o:"object"!==typeof r)?r:Object.assign({},t,r),n.forEach((function(e){return e(t,i)}))}},r=function(){return t},i={setState:o,getState:r,subscribe:function(e){return n.add(e),function(){return n.delete(e)}},destroy:function(){console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(o,r,i),i},g=function(e){return e?v(e):v},p=n(5848),m=n(6383),y=n(2988),b=n(4308),x=n(6890),w=n(4085),S=function(e){return function(){return e}};function E(e,t){var n=t.sourceEvent,o=t.subject,r=t.target,i=t.identifier,a=t.active,l=t.x,u=t.y,c=t.dx,s=t.dy,d=t.dispatch;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:o,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:s,enumerable:!0,configurable:!0},_:{value:d}})}function C(e){return!e.ctrlKey&&!e.button}function _(){return this.parentNode}function N(e,t){return null==t?{x:e.x,y:e.y}:t}function M(){return navigator.maxTouchPoints||"ontouchstart"in this}E.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var k,Z,P,A=n(8141),O=(n(4164),["position","children","className","style"]),D=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"],I=["type","position","isValidConnection","isConnectable","isConnectableStart","isConnectableEnd","id","onConnect","children","className","onMouseDown","onTouchStart"],z=["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","onSelectionStart","onSelectionEnd","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","selectionOnDrag","selectionMode","panActivationKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","nodesFocusable","nodeOrigin","edgesFocusable","edgesUpdatable","elementsSelectable","defaultViewport","minZoom","maxZoom","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","onPaneScroll","onPaneContextMenu","children","onEdgeUpdate","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdateStart","onEdgeUpdateEnd","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateNodesOnSelect","elevateEdgesOnSelect","disableKeyboardA11y","autoPanOnConnect","autoPanOnNodeDrag","connectionRadius","isValidConnection","onError","style","id"],R=(0,s.createContext)(null),B=R.Provider,j={error001:function(){return"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001"},error002:function(){return"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them."},error003:function(e){return'Node type "'.concat(e,'" not found. Using fallback type "default".')},error004:function(){return"The React Flow parent container needs a width and a height to render the graph."},error005:function(){return"Only child nodes can use a parent extent."},error006:function(){return"Can't create edge. An edge needs a source and a target."},error007:function(e){return"The old edge with id=".concat(e," does not exist.")},error009:function(e){return'Marker type "'.concat(e,"\" doesn't exist.")},error008:function(e,t){return"Couldn't create edge for ".concat(e?"target":"source",' handle id: "').concat(e?t.targetHandle:t.sourceHandle,'", edge id: ').concat(t.id,".")},error010:function(){return"Handle: No node id found. Make sure to only use a Handle inside a custom Node."},error011:function(e){return'Edge type "'.concat(e,'" not found. Using fallback type "default".')}},T=j.error001();function X(e,t){var n=(0,s.useContext)(R);if(null===n)throw new Error(T);return h(n,e,t)}var L=function(){var e=(0,s.useContext)(R);if(null===e)throw new Error(T);return(0,s.useMemo)((function(){return{getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}}),[e])},Y=function(e){return e.userSelectionActive?"none":"all"};function H(e){var t=e.position,n=e.children,o=e.className,r=e.style,i=(0,u.Z)(e,O),s=X(Y),f="".concat(t).split("-");return(0,c.jsx)("div",(0,l.Z)((0,l.Z)({className:(0,d.Z)(["react-flow__panel",o].concat((0,a.Z)(f))),style:(0,l.Z)((0,l.Z)({},r),{},{pointerEvents:s})},i),{},{children:n}))}function V(e){var t=e.proOptions,n=e.position,o=void 0===n?"bottom-right":n;return null!==t&&void 0!==t&&t.hideAttribution?null:(0,c.jsx)(H,{position:o,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:(0,c.jsx)("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}var K=(0,s.memo)((function(e){var t=e.x,n=e.y,o=e.label,r=e.labelStyle,a=void 0===r?{}:r,f=e.labelShowBg,h=void 0===f||f,v=e.labelBgStyle,g=void 0===v?{}:v,p=e.labelBgPadding,m=void 0===p?[2,4]:p,y=e.labelBgBorderRadius,b=void 0===y?2:y,x=e.children,w=e.className,S=(0,u.Z)(e,D),E=(0,s.useRef)(null),C=(0,s.useState)({x:0,y:0,width:0,height:0}),_=(0,i.Z)(C,2),N=_[0],M=_[1],k=(0,d.Z)(["react-flow__edge-textwrapper",w]);return(0,s.useEffect)((function(){if(E.current){var e=E.current.getBBox();M({x:e.x,y:e.y,width:e.width,height:e.height})}}),[o]),"undefined"!==typeof o&&o?(0,c.jsxs)("g",(0,l.Z)((0,l.Z)({transform:"translate(".concat(t-N.width/2," ").concat(n-N.height/2,")"),className:k,visibility:N.width?"visible":"hidden"},S),{},{children:[h&&(0,c.jsx)("rect",{width:N.width+2*m[0],x:-m[0],y:-m[1],height:N.height+2*m[1],className:"react-flow__edge-textbg",style:g,rx:b,ry:b}),(0,c.jsx)("text",{className:"react-flow__edge-text",y:N.height/2,dy:"0.3em",ref:E,style:a,children:o}),x]})):null})),U=function(e){return{width:e.offsetWidth,height:e.offsetHeight}},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=arguments.length>1?arguments[1]:void 0;return{x:F(e.x,t[0][0],t[1][0]),y:F(e.y,t[0][1],t[1][1])}},q=function(e,t,n){return e<t?F(Math.abs(e-t),1,50)/50:e>n?-F(Math.abs(e-n),1,50)/50:0},G=function(e,t){return[20*q(e.x,35,t.width-35),20*q(e.y,35,t.height-35)]},$=function(e){var t,n;return(null===(t=e.getRootNode)||void 0===t?void 0:t.call(e))||(null===(n=window)||void 0===n?void 0:n.document)},Q=function(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}},J=function(e){var t=e.x,n=e.y;return{x:t,y:n,x2:t+e.width,y2:n+e.height}},ee=function(e){var t=e.x,n=e.y;return{x:t,y:n,width:e.x2-t,height:e.y2-n}},te=function(e){return(0,l.Z)((0,l.Z)({},e.positionAbsolute||{x:0,y:0}),{},{width:e.width||0,height:e.height||0})},ne=function(e,t){return ee(Q(J(e),J(t)))},oe=function(e,t){var n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)},re=function(e){return ie(e.width)&&ie(e.height)&&ie(e.x)&&ie(e.y)},ie=function(e){return!isNaN(e)&&isFinite(e)},ae=Symbol.for("internals"),le=["Enter"," ","Escape"],ue=function(e,t){0},ce=function(e){return"nativeEvent"in e};function se(e){var t,n,o=ce(e)?e.nativeEvent:e,r=(null===(t=o.composedPath)||void 0===t||null===(n=t.call(o))||void 0===n?void 0:n[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(null===r||void 0===r?void 0:r.nodeName)||(null===r||void 0===r?void 0:r.hasAttribute("contenteditable"))||!(null===r||void 0===r||!r.closest(".nokey"))}var de=function(e){return"clientX"in e},fe=function(e,t){var n,o,r,i,a=de(e),l=a?e.clientX:null===(n=e.touches)||void 0===n?void 0:n[0].clientX,u=a?e.clientY:null===(o=e.touches)||void 0===o?void 0:o[0].clientY;return{x:l-(null!==(r=null===t||void 0===t?void 0:t.left)&&void 0!==r?r:0),y:u-(null!==(i=null===t||void 0===t?void 0:t.top)&&void 0!==i?i:0)}},he=function(e){var t=e.path,n=e.labelX,o=e.labelY,r=e.label,i=e.labelStyle,a=e.labelShowBg,l=e.labelBgStyle,u=e.labelBgPadding,s=e.labelBgBorderRadius,d=e.style,f=e.markerEnd,h=e.markerStart,v=e.interactionWidth,g=void 0===v?20:v;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("path",{style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:h}),g&&(0,c.jsx)("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),r&&ie(n)&&ie(o)?(0,c.jsx)(K,{x:n,y:o,label:r,labelStyle:i,labelShowBg:a,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:s}):null]})};he.displayName="BaseEdge";var ve,ge,pe,me,ye,be;function xe(e,t,n){return void 0===n?n:function(o){var r=t().edges.find((function(t){return t.id===e}));r&&n(o,(0,l.Z)({},r))}}function we(e){var t=e.sourceX,n=e.sourceY,o=e.targetX,r=e.targetY,i=Math.abs(o-t)/2,a=o<t?o+i:o-i,l=Math.abs(r-n)/2;return[a,r<n?r+l:r-l,i,l]}function Se(e){var t=e.sourceX,n=e.sourceY,o=e.targetX,r=e.targetY,i=e.sourceControlX,a=e.sourceControlY,l=.125*t+.375*i+.375*e.targetControlX+.125*o,u=.125*n+.375*a+.375*e.targetControlY+.125*r;return[l,u,Math.abs(l-t),Math.abs(u-n)]}function Ee(e){var t=e.pos,n=e.x1,o=e.y1,r=e.x2,i=e.y2;return t===be.Left||t===be.Right?[.5*(n+r),o]:[n,.5*(o+i)]}function Ce(e){var t=e.sourceX,n=e.sourceY,o=e.sourcePosition,r=void 0===o?be.Bottom:o,a=e.targetX,l=e.targetY,u=e.targetPosition,c=void 0===u?be.Top:u,s=Ee({pos:r,x1:t,y1:n,x2:a,y2:l}),d=(0,i.Z)(s,2),f=d[0],h=d[1],v=Ee({pos:c,x1:a,y1:l,x2:t,y2:n}),g=(0,i.Z)(v,2),p=g[0],m=g[1],y=Se({sourceX:t,sourceY:n,targetX:a,targetY:l,sourceControlX:f,sourceControlY:h,targetControlX:p,targetControlY:m}),b=(0,i.Z)(y,4),x=b[0],w=b[1],S=b[2],E=b[3];return["M".concat(t,",").concat(n," C").concat(f,",").concat(h," ").concat(p,",").concat(m," ").concat(a,",").concat(l),x,w,S,E]}!function(e){e.Strict="strict",e.Loose="loose"}(ve||(ve={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(ge||(ge={})),function(e){e.Partial="partial",e.Full="full"}(pe||(pe={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(me||(me={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(ye||(ye={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(be||(be={}));var _e=(0,s.memo)((function(e){var t=e.sourceX,n=e.sourceY,o=e.targetX,r=e.targetY,a=e.sourcePosition,l=void 0===a?be.Bottom:a,u=e.targetPosition,s=void 0===u?be.Top:u,d=e.label,f=e.labelStyle,h=e.labelShowBg,v=e.labelBgStyle,g=e.labelBgPadding,p=e.labelBgBorderRadius,m=e.style,y=e.markerEnd,b=e.markerStart,x=e.interactionWidth,w=Ce({sourceX:t,sourceY:n,sourcePosition:l,targetX:o,targetY:r,targetPosition:s}),S=(0,i.Z)(w,3),E=S[0],C=S[1],_=S[2];return(0,c.jsx)(he,{path:E,labelX:C,labelY:_,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:v,labelBgPadding:g,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:b,interactionWidth:x})}));_e.displayName="SimpleBezierEdge";var Ne=(k={},(0,r.Z)(k,be.Left,{x:-1,y:0}),(0,r.Z)(k,be.Right,{x:1,y:0}),(0,r.Z)(k,be.Top,{x:0,y:-1}),(0,r.Z)(k,be.Bottom,{x:0,y:1}),k),Me=function(e){var t=e.source,n=e.sourcePosition,o=void 0===n?be.Bottom:n,r=e.target;return o===be.Left||o===be.Right?t.x<r.x?{x:1,y:0}:{x:-1,y:0}:t.y<r.y?{x:0,y:1}:{x:0,y:-1}},ke=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function Ze(e){var t=e.sourceX,n=e.sourceY,o=e.sourcePosition,r=void 0===o?be.Bottom:o,l=e.targetX,u=e.targetY,c=e.targetPosition,s=void 0===c?be.Top:c,d=e.borderRadius,f=void 0===d?5:d,h=e.centerX,v=e.centerY,g=e.offset,p=function(e){var t,n,o=e.source,r=e.sourcePosition,l=void 0===r?be.Bottom:r,u=e.target,c=e.targetPosition,s=void 0===c?be.Top:c,d=e.center,f=e.offset,h=Ne[l],v=Ne[s],g={x:o.x+h.x*f,y:o.y+h.y*f},p={x:u.x+v.x*f,y:u.y+v.y*f},m=Me({source:g,sourcePosition:l,target:p}),y=0!==m.x?"x":"y",b=m[y],x=[],w=we({sourceX:o.x,sourceY:o.y,targetX:u.x,targetY:u.y}),S=(0,i.Z)(w,4),E=S[0],C=S[1],_=S[2],N=S[3];if(h[y]*v[y]===-1){t=d.x||E,n=d.y||C;var M=[{x:t,y:g.y},{x:t,y:p.y}],k=[{x:g.x,y:n},{x:p.x,y:n}];x=h[y]===b?"x"===y?M:k:"x"===y?k:M}else{var Z=[{x:g.x,y:p.y}],P=[{x:p.x,y:g.y}];if(x="x"===y?h.x===b?P:Z:h.y===b?Z:P,l!==s){var A="x"===y?"y":"x",O=h[y]===v[A],D=g[A]>p[A],I=g[A]<p[A];(1===h[y]&&(!O&&D||O&&I)||1!==h[y]&&(!O&&I||O&&D))&&(x="x"===y?Z:P)}t=x[0].x,n=x[0].y}return[[o,g].concat((0,a.Z)(x),[p,u]),t,n,_,N]}({source:{x:t,y:n},sourcePosition:r,target:{x:l,y:u},targetPosition:s,center:{x:h,y:v},offset:void 0===g?20:g}),m=(0,i.Z)(p,5),y=m[0],b=m[1],x=m[2],w=m[3],S=m[4];return[y.reduce((function(e,t,n){return e+=n>0&&n<y.length-1?function(e,t,n,o){var r=Math.min(ke(e,t)/2,ke(t,n)/2,o),i=t.x,a=t.y;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return"L".concat(i," ").concat(a);if(e.y===a){var l=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return"L ".concat(i+r*l,",").concat(a,"Q ").concat(i,",").concat(a," ").concat(i,",").concat(a+r*u)}var c=e.x<n.x?1:-1,s=e.y<n.y?-1:1;return"L ".concat(i,",").concat(a+r*s,"Q ").concat(i,",").concat(a," ").concat(i+r*c,",").concat(a)}(y[n-1],t,y[n+1],f):"".concat(0===n?"M":"L").concat(t.x," ").concat(t.y)}),""),b,x,w,S]}var Pe=(0,s.memo)((function(e){var t=e.sourceX,n=e.sourceY,o=e.targetX,r=e.targetY,a=e.label,l=e.labelStyle,u=e.labelShowBg,s=e.labelBgStyle,d=e.labelBgPadding,f=e.labelBgBorderRadius,h=e.style,v=e.sourcePosition,g=void 0===v?be.Bottom:v,p=e.targetPosition,m=void 0===p?be.Top:p,y=e.markerEnd,b=e.markerStart,x=e.pathOptions,w=e.interactionWidth,S=Ze({sourceX:t,sourceY:n,sourcePosition:g,targetX:o,targetY:r,targetPosition:m,borderRadius:null===x||void 0===x?void 0:x.borderRadius,offset:null===x||void 0===x?void 0:x.offset}),E=(0,i.Z)(S,3),C=E[0],_=E[1],N=E[2];return(0,c.jsx)(he,{path:C,labelX:_,labelY:N,label:a,labelStyle:l,labelShowBg:u,labelBgStyle:s,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:y,markerStart:b,interactionWidth:w})}));Pe.displayName="SmoothStepEdge";var Ae=(0,s.memo)((function(e){var t;return(0,c.jsx)(Pe,(0,l.Z)((0,l.Z)({},e),{},{pathOptions:(0,s.useMemo)((function(){var t;return{borderRadius:0,offset:null===(t=e.pathOptions)||void 0===t?void 0:t.offset}}),[null===(t=e.pathOptions)||void 0===t?void 0:t.offset])}))}));Ae.displayName="StepEdge";var Oe=(0,s.memo)((function(e){var t=e.sourceX,n=e.sourceY,o=e.targetX,r=e.targetY,a=e.label,l=e.labelStyle,u=e.labelShowBg,s=e.labelBgStyle,d=e.labelBgPadding,f=e.labelBgBorderRadius,h=e.style,v=e.markerEnd,g=e.markerStart,p=e.interactionWidth,m=function(e){var t=e.sourceX,n=e.sourceY,o=e.targetX,r=e.targetY,a=we({sourceX:t,sourceY:n,targetX:o,targetY:r}),l=(0,i.Z)(a,4),u=l[0],c=l[1],s=l[2],d=l[3];return["M ".concat(t,",").concat(n,"L ").concat(o,",").concat(r),u,c,s,d]}({sourceX:t,sourceY:n,targetX:o,targetY:r}),y=(0,i.Z)(m,3),b=y[0],x=y[1],w=y[2];return(0,c.jsx)(he,{path:b,labelX:x,labelY:w,label:a,labelStyle:l,labelShowBg:u,labelBgStyle:s,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:v,markerStart:g,interactionWidth:p})}));function De(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function Ie(e){var t=e.pos,n=e.x1,o=e.y1,r=e.x2,i=e.y2,a=e.c;switch(t){case be.Left:return[n-De(n-r,a),o];case be.Right:return[n+De(r-n,a),o];case be.Top:return[n,o-De(o-i,a)];case be.Bottom:return[n,o+De(i-o,a)]}}function ze(e){var t=e.sourceX,n=e.sourceY,o=e.sourcePosition,r=void 0===o?be.Bottom:o,a=e.targetX,l=e.targetY,u=e.targetPosition,c=void 0===u?be.Top:u,s=e.curvature,d=void 0===s?.25:s,f=Ie({pos:r,x1:t,y1:n,x2:a,y2:l,c:d}),h=(0,i.Z)(f,2),v=h[0],g=h[1],p=Ie({pos:c,x1:a,y1:l,x2:t,y2:n,c:d}),m=(0,i.Z)(p,2),y=m[0],b=m[1],x=Se({sourceX:t,sourceY:n,targetX:a,targetY:l,sourceControlX:v,sourceControlY:g,targetControlX:y,targetControlY:b}),w=(0,i.Z)(x,4),S=w[0],E=w[1],C=w[2],_=w[3];return["M".concat(t,",").concat(n," C").concat(v,",").concat(g," ").concat(y,",").concat(b," ").concat(a,",").concat(l),S,E,C,_]}Oe.displayName="StraightEdge";var Re=(0,s.memo)((function(e){var t=e.sourceX,n=e.sourceY,o=e.targetX,r=e.targetY,a=e.sourcePosition,l=void 0===a?be.Bottom:a,u=e.targetPosition,s=void 0===u?be.Top:u,d=e.label,f=e.labelStyle,h=e.labelShowBg,v=e.labelBgStyle,g=e.labelBgPadding,p=e.labelBgBorderRadius,m=e.style,y=e.markerEnd,b=e.markerStart,x=e.pathOptions,w=e.interactionWidth,S=ze({sourceX:t,sourceY:n,sourcePosition:l,targetX:o,targetY:r,targetPosition:s,curvature:null===x||void 0===x?void 0:x.curvature}),E=(0,i.Z)(S,3),C=E[0],_=E[1],N=E[2];return(0,c.jsx)(he,{path:C,labelX:_,labelY:N,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:v,labelBgPadding:g,labelBgBorderRadius:p,style:m,markerEnd:y,markerStart:b,interactionWidth:w})}));Re.displayName="BezierEdge";var Be=(0,s.createContext)(null),je=Be.Provider;Be.Consumer;var Te=function(e){var t=e.source,n=e.sourceHandle,o=e.target,r=e.targetHandle;return"reactflow__edge-".concat(t).concat(n||"","-").concat(o).concat(r||"")},Xe=function(e,t){if("undefined"===typeof e)return"";if("string"===typeof e)return e;var n=t?"".concat(t,"__"):"";return"".concat(n).concat(Object.keys(e).sort().map((function(t){return"".concat(t,"=").concat(e[t])})).join("&"))},Le=function(e,t,n,o){var r=e.x,a=e.y,l=(0,i.Z)(t,3),u=l[0],c=l[1],s=l[2],d=(0,i.Z)(o,2),f=d[0],h=d[1],v={x:(r-u)/s,y:(a-c)/s};return n?{x:f*Math.round(v.x/f),y:h*Math.round(v.y/h)}:v},Ye=function(e,t){var n=e.x,o=e.y,r=(0,i.Z)(t,3),a=r[0],l=r[1],u=r[2];return{x:n*u+a,y:o*u+l}},He=function(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};var r=(null!==(t=e.width)&&void 0!==t?t:0)*o[0],i=(null!==(n=e.height)&&void 0!==n?n:0)*o[1],a={x:e.position.x-r,y:e.position.y-i};return(0,l.Z)((0,l.Z)({},a),{},{positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-r,y:e.positionAbsolute.y-i}:a})},Ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(0===e.length)return{x:0,y:0,width:0,height:0};var n=e.reduce((function(e,n){var o=He(n,t).positionAbsolute,r=o.x,i=o.y;return Q(e,J({x:r,y:i,width:n.width||0,height:n.height||0}))}),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return ee(n)},Ke=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],o=(0,i.Z)(n,3),r=o[0],a=o[1],l=o[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,0],d={x:(t.x-r)/l,y:(t.y-a)/l,width:t.width/l,height:t.height/l},f=[];return e.forEach((function(e){var t=e.width,n=e.height,o=e.selectable,r=void 0===o||o,i=e.hidden;if(c&&!r||void 0!==i&&i)return!1;var a=He(e,s).positionAbsolute,l={x:a.x,y:a.y,width:t||0,height:n||0},h=oe(d,l);("undefined"===typeof t||"undefined"===typeof n||null===t||null===n||u&&h>0||h>=(t||0)*(n||0)||e.dragging)&&f.push(e)})),f},Ue=function(e,t){var n=e.map((function(e){return e.id}));return t.filter((function(e){return n.includes(e.source)||n.includes(e.target)}))},Fe=function(e,t,n,o,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.1,a=t/(e.width*(1+i)),l=n/(e.height*(1+i)),u=Math.min(a,l),c=F(u,o,r);return[t/2-(e.x+e.width/2)*c,n/2-(e.y+e.height/2)*c,c]},We=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.transition().duration(t)};function qe(e,t,n,o){return(t[n]||[]).reduce((function(t,r){var i,a,l,u;"".concat(e.id,"-").concat(r.id,"-").concat(n)!==o&&t.push({id:r.id||null,type:n,nodeId:e.id,x:(null!==(i=null===(a=e.positionAbsolute)||void 0===a?void 0:a.x)&&void 0!==i?i:0)+r.x+r.width/2,y:(null!==(l=null===(u=e.positionAbsolute)||void 0===u?void 0:u.y)&&void 0!==l?l:0)+r.y+r.height/2});return t}),[])}var Ge={source:null,target:null,sourceHandle:null,targetHandle:null};function $e(e,t,n,o,r,i,a,l){var u="target"===i,c=l.querySelector('.react-flow__handle[data-id="'.concat(null===t||void 0===t?void 0:t.nodeId,"-").concat(null===t||void 0===t?void 0:t.id,"-").concat(null===t||void 0===t?void 0:t.type,'"]')),s=fe(e),d=s.x,f=s.y,h=l.elementFromPoint(d,f),v=null!==h&&void 0!==h&&h.classList.contains("react-flow__handle")?h:c,g={handleDomNode:v,isValid:!1,connection:Ge,endHandle:null};if(v){var p=Qe(void 0,v),m=v.getAttribute("data-nodeid"),y=v.getAttribute("data-handleid"),b=v.classList.contains("connectable"),x=v.classList.contains("connectableend"),w={source:u?m:o,sourceHandle:u?y:r,target:u?o:m,targetHandle:u?r:y};g.connection=w,b&&x&&(n===ve.Strict?u&&"source"===p||!u&&"target"===p:m!==o||y!==r)&&(g.endHandle={nodeId:m,handleId:y,type:p},g.isValid=a(w))}return g}function Qe(e,t){return e||(null!==t&&void 0!==t&&t.classList.contains("target")?"target":null!==t&&void 0!==t&&t.classList.contains("source")?"source":null)}function Je(e){null===e||void 0===e||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function et(e,t){var n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function tt(e){var t,n=e.event,o=e.handleId,r=e.nodeId,l=e.onConnect,u=e.isTarget,c=e.getState,s=e.setState,d=e.isValidConnection,f=e.edgeUpdaterType,h=e.onEdgeUpdateEnd,v=$(n.target),g=c(),p=g.connectionMode,m=g.domNode,y=g.autoPanOnConnect,b=g.connectionRadius,x=g.onConnectStart,w=g.panBy,S=g.getNodes,E=g.cancelConnection,C=0,_=fe(n),N=_.x,M=_.y,k=null===v||void 0===v?void 0:v.elementFromPoint(N,M),Z=Qe(f,k),P=null===m||void 0===m?void 0:m.getBoundingClientRect();if(P&&Z){var A,O=fe(n,P),D=!1,I=null,z=!1,R=null,B=function(e){var t=e.nodes,n=e.nodeId,o=e.handleId,r=e.handleType;return t.reduce((function(e,t){if(t[ae]){var i=t[ae].handleBounds,l=[],u=[];i&&(l=qe(t,i,"source","".concat(n,"-").concat(o,"-").concat(r)),u=qe(t,i,"target","".concat(n,"-").concat(o,"-").concat(r))),e.push.apply(e,(0,a.Z)(l).concat((0,a.Z)(u)))}return e}),[])}({nodes:S(),nodeId:r,handleId:o,handleType:Z}),j=function e(){if(y){var t=G(O,P),n=(0,i.Z)(t,2),o=n[0],r=n[1];w({x:o,y:r}),C=requestAnimationFrame(e)}};s({connectionPosition:O,connectionStatus:null,connectionNodeId:r,connectionHandleId:o,connectionHandleType:Z,connectionStartHandle:{nodeId:r,handleId:o,type:Z},connectionEndHandle:null}),null===x||void 0===x||x(n,{nodeId:r,handleId:o,handleType:Z}),v.addEventListener("mousemove",T),v.addEventListener("mouseup",X),v.addEventListener("touchmove",T),v.addEventListener("touchend",X)}function T(e){var n=c().transform;O=fe(e,P),t=function(e,t,n){var o=null,r=1/0;return n.forEach((function(n){var i=Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));i<=t&&i<r&&(r=i,o=n)})),o}(Le(O,n,!1,[1,1]),b,B),D||(j(),D=!0);var i=$e(e,t,p,r,o,u?"target":"source",d,v);if(R=i.handleDomNode,I=i.connection,z=i.isValid,s({connectionPosition:t&&z?Ye({x:t.x,y:t.y},n):O,connectionStatus:et(!!t,z),connectionEndHandle:i.endHandle}),!t&&!z&&!R)return Je(A);I.source!==I.target&&R&&(Je(A),A=R,R.classList.add("connecting","react-flow__handle-connecting"),R.classList.toggle("valid",z),R.classList.toggle("react-flow__handle-valid",z))}function X(e){var n,o;(t||R)&&I&&z&&(null===l||void 0===l||l(I)),null===(n=(o=c()).onConnectEnd)||void 0===n||n.call(o,e),f&&(null===h||void 0===h||h(e)),Je(A),E(),cancelAnimationFrame(C),D=!1,z=!1,I=null,R=null,v.removeEventListener("mousemove",T),v.removeEventListener("mouseup",X),v.removeEventListener("touchmove",T),v.removeEventListener("touchend",X)}}var nt=function(){return!0},ot=function(e){return{connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}},rt=(0,s.forwardRef)((function(e,t){var n,o,r=e.type,i=void 0===r?"source":r,a=e.position,f=void 0===a?be.Top:a,h=e.isValidConnection,v=e.isConnectable,g=void 0===v||v,m=e.isConnectableStart,y=void 0===m||m,b=e.isConnectableEnd,x=void 0===b||b,w=e.id,S=e.onConnect,E=e.children,C=e.className,_=e.onMouseDown,N=e.onTouchStart,M=(0,u.Z)(e,I),k=w||null,Z="target"===i,P=L(),A=(0,s.useContext)(Be),O=X(ot,p.X),D=O.connectOnClick,z=O.noPanClassName,R=X(function(e,t,n){return function(o){var r=o.connectionStartHandle,i=o.connectionEndHandle,a=o.connectionClickStartHandle;return{connecting:(null===r||void 0===r?void 0:r.nodeId)===e&&(null===r||void 0===r?void 0:r.handleId)===t&&(null===r||void 0===r?void 0:r.type)===n||(null===i||void 0===i?void 0:i.nodeId)===e&&(null===i||void 0===i?void 0:i.handleId)===t&&(null===i||void 0===i?void 0:i.type)===n,clickConnecting:(null===a||void 0===a?void 0:a.nodeId)===e&&(null===a||void 0===a?void 0:a.handleId)===t&&(null===a||void 0===a?void 0:a.type)===n}}}(A,k,i)),B=R.connecting,T=R.clickConnecting;A||(null===(n=(o=P.getState()).onError)||void 0===n||n.call(o,"010",j.error010()));var Y=function(e){var t=P.getState(),n=t.defaultEdgeOptions,o=t.onConnect,r=t.hasDefaultEdges,i=(0,l.Z)((0,l.Z)({},n),e);if(r){var a=P.getState(),u=a.edges;(0,a.setEdges)(function(e,t){return e.source&&e.target?function(e,t){return t.some((function(t){return t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle)}))}(n="id"in(o=e)&&"source"in o&&"target"in o?(0,l.Z)({},e):(0,l.Z)((0,l.Z)({},e),{},{id:Te(e)}),t)?t:t.concat(n):(ue(0,j.error006()),t);var n,o}(i,u))}null===o||void 0===o||o(i),null===S||void 0===S||S(i)},H=function(e){if(A){var t=de(e);y&&(t&&0===e.button||!t)&&tt({event:e,handleId:k,nodeId:A,onConnect:Y,isTarget:Z,getState:P.getState,setState:P.setState,isValidConnection:h||P.getState().isValidConnection||nt}),t?null===_||void 0===_||_(e):null===N||void 0===N||N(e)}};return(0,c.jsx)("div",(0,l.Z)((0,l.Z)({"data-handleid":k,"data-nodeid":A,"data-handlepos":f,"data-id":"".concat(A,"-").concat(k,"-").concat(i),className:(0,d.Z)(["react-flow__handle","react-flow__handle-".concat(f),"nodrag",z,C,{source:!Z,target:Z,connectable:g,connectablestart:y,connectableend:x,connecting:T,connectionindicator:g&&(y&&!B||x&&B)}]),onMouseDown:H,onTouchStart:H,onClick:D?function(e){var t=P.getState(),n=t.onClickConnectStart,o=t.onClickConnectEnd,r=t.connectionClickStartHandle,a=t.connectionMode,l=t.isValidConnection;if(A&&(r||y)){if(!r)return null===n||void 0===n||n(e,{nodeId:A,handleId:k,handleType:i}),void P.setState({connectionClickStartHandle:{nodeId:A,type:i,handleId:k}});var u=$(e.target),c=h||l||nt,s=$e(e,{nodeId:A,id:k,type:i},a,r.nodeId,r.handleId||null,r.type,c,u),d=s.connection;s.isValid&&Y(d),null===o||void 0===o||o(e),P.setState({connectionClickStartHandle:null})}}:void 0,ref:t},M),{},{children:E}))}));rt.displayName="Handle";var it=(0,s.memo)(rt),at=function(e){var t=e.data,n=e.isConnectable,o=e.targetPosition,r=void 0===o?be.Top:o,i=e.sourcePosition,a=void 0===i?be.Bottom:i;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(it,{type:"target",position:r,isConnectable:n}),null===t||void 0===t?void 0:t.label,(0,c.jsx)(it,{type:"source",position:a,isConnectable:n})]})};at.displayName="DefaultNode";var lt=(0,s.memo)(at),ut=function(e){var t=e.data,n=e.isConnectable,o=e.sourcePosition,r=void 0===o?be.Bottom:o;return(0,c.jsxs)(c.Fragment,{children:[null===t||void 0===t?void 0:t.label,(0,c.jsx)(it,{type:"source",position:r,isConnectable:n})]})};ut.displayName="InputNode";var ct=(0,s.memo)(ut),st=function(e){var t=e.data,n=e.isConnectable,o=e.targetPosition,r=void 0===o?be.Top:o;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(it,{type:"target",position:r,isConnectable:n}),null===t||void 0===t?void 0:t.label]})};st.displayName="OutputNode";var dt=(0,s.memo)(st),ft=function(){return null};ft.displayName="GroupNode";var ht=function(e){return{selectedNodes:e.getNodes().filter((function(e){return e.selected})),selectedEdges:e.edges.filter((function(e){return e.selected}))}},vt=function(e){return e.id};function gt(e,t){return(0,p.X)(e.selectedNodes.map(vt),t.selectedNodes.map(vt))&&(0,p.X)(e.selectedEdges.map(vt),t.selectedEdges.map(vt))}var pt=(0,s.memo)((function(e){var t=e.onSelectionChange,n=L(),o=X(ht,gt),r=o.selectedNodes,i=o.selectedEdges;return(0,s.useEffect)((function(){var e,o,a={nodes:r,edges:i};null===t||void 0===t||t(a),null===(e=(o=n.getState()).onSelectionChange)||void 0===e||e.call(o,a)}),[r,i,t]),null}));pt.displayName="SelectionListener";var mt=function(e){return!!e.onSelectionChange};function yt(e){var t=e.onSelectionChange,n=X(mt);return t||n?(0,c.jsx)(pt,{onSelectionChange:t}):null}var bt=function(e){return{setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset}};function xt(e,t){(0,s.useEffect)((function(){"undefined"!==typeof e&&t(e)}),[e])}function wt(e,t,n){(0,s.useEffect)((function(){"undefined"!==typeof t&&n((0,r.Z)({},e,t))}),[t])}var St=function(e){var t=e.nodes,n=e.edges,o=e.defaultNodes,r=e.defaultEdges,i=e.onConnect,a=e.onConnectStart,u=e.onConnectEnd,c=e.onClickConnectStart,d=e.onClickConnectEnd,f=e.nodesDraggable,h=e.nodesConnectable,v=e.nodesFocusable,g=e.edgesFocusable,m=e.edgesUpdatable,y=e.elevateNodesOnSelect,b=e.minZoom,x=e.maxZoom,w=e.nodeExtent,S=e.onNodesChange,E=e.onEdgesChange,C=e.elementsSelectable,_=e.connectionMode,N=e.snapGrid,M=e.snapToGrid,k=e.translateExtent,Z=e.connectOnClick,P=e.defaultEdgeOptions,A=e.fitView,O=e.fitViewOptions,D=e.onNodesDelete,I=e.onEdgesDelete,z=e.onNodeDrag,R=e.onNodeDragStart,B=e.onNodeDragStop,j=e.onSelectionDrag,T=e.onSelectionDragStart,Y=e.onSelectionDragStop,H=e.noPanClassName,V=e.nodeOrigin,K=e.rfId,U=e.autoPanOnConnect,F=e.autoPanOnNodeDrag,W=e.onError,q=e.connectionRadius,G=e.isValidConnection,$=X(bt,p.X),Q=$.setNodes,J=$.setEdges,ee=$.setDefaultNodesAndEdges,te=$.setMinZoom,ne=$.setMaxZoom,oe=$.setTranslateExtent,re=$.setNodeExtent,ie=$.reset,ae=L();return(0,s.useEffect)((function(){var e=null===r||void 0===r?void 0:r.map((function(e){return(0,l.Z)((0,l.Z)({},e),P)}));return ee(o,e),function(){ie()}}),[]),wt("defaultEdgeOptions",P,ae.setState),wt("connectionMode",_,ae.setState),wt("onConnect",i,ae.setState),wt("onConnectStart",a,ae.setState),wt("onConnectEnd",u,ae.setState),wt("onClickConnectStart",c,ae.setState),wt("onClickConnectEnd",d,ae.setState),wt("nodesDraggable",f,ae.setState),wt("nodesConnectable",h,ae.setState),wt("nodesFocusable",v,ae.setState),wt("edgesFocusable",g,ae.setState),wt("edgesUpdatable",m,ae.setState),wt("elementsSelectable",C,ae.setState),wt("elevateNodesOnSelect",y,ae.setState),wt("snapToGrid",M,ae.setState),wt("snapGrid",N,ae.setState),wt("onNodesChange",S,ae.setState),wt("onEdgesChange",E,ae.setState),wt("connectOnClick",Z,ae.setState),wt("fitViewOnInit",A,ae.setState),wt("fitViewOnInitOptions",O,ae.setState),wt("onNodesDelete",D,ae.setState),wt("onEdgesDelete",I,ae.setState),wt("onNodeDrag",z,ae.setState),wt("onNodeDragStart",R,ae.setState),wt("onNodeDragStop",B,ae.setState),wt("onSelectionDrag",j,ae.setState),wt("onSelectionDragStart",T,ae.setState),wt("onSelectionDragStop",Y,ae.setState),wt("noPanClassName",H,ae.setState),wt("nodeOrigin",V,ae.setState),wt("rfId",K,ae.setState),wt("autoPanOnConnect",U,ae.setState),wt("autoPanOnNodeDrag",F,ae.setState),wt("onError",W,ae.setState),wt("connectionRadius",q,ae.setState),wt("isValidConnection",G,ae.setState),xt(t,Q),xt(n,J),xt(b,te),xt(x,ne),xt(k,oe),xt(w,re),null},Et={display:"none"},Ct={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},_t="react-flow__node-desc",Nt="react-flow__edge-desc",Mt="react-flow__aria-live",kt=function(e){return e.ariaLiveMessage};function Zt(e){var t=e.rfId,n=X(kt);return(0,c.jsx)("div",{id:"".concat(Mt,"-").concat(t),"aria-live":"assertive","aria-atomic":"true",style:Ct,children:n})}function Pt(e){var t=e.rfId,n=e.disableKeyboardA11y;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{id:"".concat(_t,"-").concat(t),style:Et,children:["Press enter or space to select a node.",!n&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),(0,c.jsx)("div",{id:"".concat(Nt,"-").concat(t),style:Et,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!n&&(0,c.jsx)(Zt,{rfId:t})]})}var At=function(e,t,n){return n===be.Left?e-t:n===be.Right?e+t:e},Ot=function(e,t,n){return n===be.Top?e-t:n===be.Bottom?e+t:e},Dt="react-flow__edgeupdater",It=function(e){var t=e.position,n=e.centerX,o=e.centerY,r=e.radius,i=void 0===r?10:r,a=e.onMouseDown,l=e.onMouseEnter,u=e.onMouseOut,s=e.type;return(0,c.jsx)("circle",{onMouseDown:a,onMouseEnter:l,onMouseOut:u,className:(0,d.Z)([Dt,"".concat(Dt,"-").concat(s)]),cx:At(n,i,t),cy:Ot(o,i,t),r:i,stroke:"transparent",fill:"transparent"})},zt=function(){return!0},Rt=function(e){var t=function(t){var n=t.id,o=t.className,r=t.type,a=t.data,l=t.onClick,u=t.onEdgeDoubleClick,f=t.selected,h=t.animated,v=t.label,g=t.labelStyle,p=t.labelShowBg,m=t.labelBgStyle,y=t.labelBgPadding,b=t.labelBgBorderRadius,x=t.style,w=t.source,S=t.target,E=t.sourceX,C=t.sourceY,_=t.targetX,N=t.targetY,M=t.sourcePosition,k=t.targetPosition,Z=t.elementsSelectable,P=t.hidden,A=t.sourceHandleId,O=t.targetHandleId,D=t.onContextMenu,I=t.onMouseEnter,z=t.onMouseMove,R=t.onMouseLeave,B=t.edgeUpdaterRadius,j=t.onEdgeUpdate,T=t.onEdgeUpdateStart,X=t.onEdgeUpdateEnd,Y=t.markerEnd,H=t.markerStart,V=t.rfId,K=t.ariaLabel,U=t.isFocusable,F=t.isUpdatable,W=t.pathOptions,q=t.interactionWidth,G=(0,s.useRef)(null),$=(0,s.useState)(!1),Q=(0,i.Z)($,2),J=Q[0],ee=Q[1],te=(0,s.useState)(!1),ne=(0,i.Z)(te,2),oe=ne[0],re=ne[1],ie=L(),ae=(0,s.useMemo)((function(){return"url(#".concat(Xe(H,V),")")}),[H,V]),ue=(0,s.useMemo)((function(){return"url(#".concat(Xe(Y,V),")")}),[Y,V]);if(P)return null;var ce=xe(n,ie.getState,u),se=xe(n,ie.getState,D),de=xe(n,ie.getState,I),fe=xe(n,ie.getState,z),he=xe(n,ie.getState,R),ve=function(e,t){if(0===e.button){var o=ie.getState(),r=o.edges,i=o.isValidConnection,a=t?S:w,l=(t?O:A)||null,u=t?"target":"source",c=i||zt,s=t,d=r.find((function(e){return e.id===n}));re(!0),null===T||void 0===T||T(e,d,u);tt({event:e,handleId:l,nodeId:a,onConnect:function(e){return null===j||void 0===j?void 0:j(d,e)},isTarget:s,getState:ie.getState,setState:ie.setState,isValidConnection:c,edgeUpdaterType:u,onEdgeUpdateEnd:function(e){re(!1),null===X||void 0===X||X(e,d,u)}})}},ge=function(){return ee(!0)},pe=function(){return ee(!1)},me=!Z&&!l;return(0,c.jsxs)("g",{className:(0,d.Z)(["react-flow__edge","react-flow__edge-".concat(r),o,{selected:f,animated:h,inactive:me,updating:J}]),onClick:function(e){var t=ie.getState(),o=t.edges,r=t.addSelectedEdges;if(Z&&(ie.setState({nodesSelectionActive:!1}),r([n])),l){var i=o.find((function(e){return e.id===n}));l(e,i)}},onDoubleClick:ce,onContextMenu:se,onMouseEnter:de,onMouseMove:fe,onMouseLeave:he,onKeyDown:U?function(e){if(le.includes(e.key)&&Z){var t,o=ie.getState(),r=o.unselectNodesAndEdges,i=o.addSelectedEdges,a=o.edges;if("Escape"===e.key)null===(t=G.current)||void 0===t||t.blur(),r({edges:[a.find((function(e){return e.id===n}))]});else i([n])}}:void 0,tabIndex:U?0:void 0,role:U?"button":void 0,"data-testid":"rf__edge-".concat(n),"aria-label":null===K?void 0:K||"Edge from ".concat(w," to ").concat(S),"aria-describedby":U?"".concat(Nt,"-").concat(V):void 0,ref:G,children:[!oe&&(0,c.jsx)(e,{id:n,source:w,target:S,selected:f,animated:h,label:v,labelStyle:g,labelShowBg:p,labelBgStyle:m,labelBgPadding:y,labelBgBorderRadius:b,data:a,style:x,sourceX:E,sourceY:C,targetX:_,targetY:N,sourcePosition:M,targetPosition:k,sourceHandleId:A,targetHandleId:O,markerStart:ae,markerEnd:ue,pathOptions:W,interactionWidth:q}),F&&(0,c.jsxs)(c.Fragment,{children:[("source"===F||!0===F)&&(0,c.jsx)(It,{position:M,centerX:E,centerY:C,radius:B,onMouseDown:function(e){return ve(e,!0)},onMouseEnter:ge,onMouseOut:pe,type:"source"}),("target"===F||!0===F)&&(0,c.jsx)(It,{position:k,centerX:_,centerY:N,radius:B,onMouseDown:function(e){return ve(e,!1)},onMouseEnter:ge,onMouseOut:pe,type:"target"})]})]})};return t.displayName="EdgeWrapper",(0,s.memo)(t)};function Bt(e){var t={default:Rt(e.default||Re),straight:Rt(e.bezier||Oe),step:Rt(e.step||Ae),smoothstep:Rt(e.step||Pe),simplebezier:Rt(e.simplebezier||_e)},n=Object.keys(e).filter((function(e){return!["default","bezier"].includes(e)})).reduce((function(t,n){return t[n]=Rt(e[n]||Re),t}),{});return(0,l.Z)((0,l.Z)({},t),n)}function jt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=((null===n||void 0===n?void 0:n.x)||0)+t.x,r=((null===n||void 0===n?void 0:n.y)||0)+t.y,i=(null===n||void 0===n?void 0:n.width)||t.width,a=(null===n||void 0===n?void 0:n.height)||t.height;switch(e){case be.Top:return{x:o+i/2,y:r};case be.Right:return{x:o+i,y:r+a/2};case be.Bottom:return{x:o+i/2,y:r+a};case be.Left:return{x:o,y:r+a/2}}}function Tt(e,t){return e?1!==e.length&&t?t&&e.find((function(e){return e.id===t}))||null:e[0]:null}function Xt(e){var t,n,o,r,i,a=(null===e||void 0===e||null===(t=e[ae])||void 0===t?void 0:t.handleBounds)||null,l=a&&(null===e||void 0===e?void 0:e.width)&&(null===e||void 0===e?void 0:e.height)&&"undefined"!==typeof(null===e||void 0===e||null===(n=e.positionAbsolute)||void 0===n?void 0:n.x)&&"undefined"!==typeof(null===e||void 0===e||null===(o=e.positionAbsolute)||void 0===o?void 0:o.y);return[{x:(null===e||void 0===e||null===(r=e.positionAbsolute)||void 0===r?void 0:r.x)||0,y:(null===e||void 0===e||null===(i=e.positionAbsolute)||void 0===i?void 0:i.y)||0,width:(null===e||void 0===e?void 0:e.width)||0,height:(null===e||void 0===e?void 0:e.height)||0},a,!!l]}function Lt(e,t){if(!e.parentNode)return!1;var n=t.get(e.parentNode);return!!n&&(!!n.selected||Lt(n,t))}function Yt(e,t,n){var o=e;do{var r;if(null!==(r=o)&&void 0!==r&&r.matches(t))return!0;if(o===n.current)return!1;o=o.parentElement}while(o);return!1}function Ht(e,t,n,o){return Array.from(e.values()).filter((function(n){return(n.selected||n.id===o)&&(!n.parentNode||!Lt(n,e))&&(n.draggable||t&&"undefined"===typeof n.draggable)})).map((function(e){var t,o,r,i;return{id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:n.x-(null!==(t=null===(o=e.positionAbsolute)||void 0===o?void 0:o.x)&&void 0!==t?t:0),y:n.y-(null!==(r=null===(i=e.positionAbsolute)||void 0===i?void 0:i.y)&&void 0!==r?r:0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode,width:e.width,height:e.height}}))}function Vt(e,t,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,0],i=arguments.length>5?arguments[5]:void 0,a=e.extent||o;if("parent"===e.extent)if(e.parentNode&&e.width&&e.height){var l=n.get(e.parentNode),u=He(l,r).positionAbsolute,c=u.x,s=u.y;a=l&&ie(c)&&ie(s)&&ie(l.width)&&ie(l.height)?[[c+e.width*r[0],s+e.height*r[1]],[c+l.width-e.width+e.width*r[0],s+l.height-e.height+e.height*r[1]]]:a}else null===i||void 0===i||i("005",j.error005()),a=o;else if(e.extent&&e.parentNode){var d=n.get(e.parentNode),f=He(d,r).positionAbsolute,h=f.x,v=f.y;a=[[e.extent[0][0]+h,e.extent[0][1]+v],[e.extent[1][0]+h,e.extent[1][1]+v]]}var g={x:0,y:0};if(e.parentNode){var p=n.get(e.parentNode);g=He(p,r).positionAbsolute}var m=a?W(t,a):t;return{position:{x:m.x-g.x,y:m.y-g.y},positionAbsolute:m}}function Kt(e){var t=e.nodeId,n=e.dragItems,o=e.nodeInternals,r=n.map((function(e){var t=o.get(e.id);return(0,l.Z)((0,l.Z)({},t),{},{position:e.position,positionAbsolute:e.positionAbsolute})}));return[t?r.find((function(e){return e.id===t})):r[0],r]}var Ut=function(e,t,n,o){var r=t.querySelectorAll(e);if(!r||!r.length)return null;var i=Array.from(r),a=t.getBoundingClientRect(),u=a.width*o[0],c=a.height*o[1];return i.map((function(e){var t=e.getBoundingClientRect();return(0,l.Z)({id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-a.left-u)/n,y:(t.top-a.top-c)/n},U(e))}))};function Ft(e,t,n){return void 0===n?n:function(o){var r=t().nodeInternals.get(e);n(o,(0,l.Z)({},r))}}function Wt(e){var t=e.id,n=e.store,o=e.unselect,r=void 0!==o&&o,i=e.nodeRef,a=n.getState(),l=a.addSelectedNodes,u=a.unselectNodesAndEdges,c=a.multiSelectionActive,s=a.nodeInternals.get(t);n.setState({nodesSelectionActive:!1}),s.selected?(r||s.selected&&c)&&(u({nodes:[s]}),requestAnimationFrame((function(){var e;return null===i||void 0===i||null===(e=i.current)||void 0===e?void 0:e.blur()}))):l([t])}function qt(e){return function(t,n,o){return null===e||void 0===e?void 0:e(t,o)}}function Gt(e){var t=e.nodeRef,n=e.disabled,o=void 0!==n&&n,r=e.noDragClassName,a=e.handleSelector,u=e.nodeId,c=e.isSelectable,d=e.selectNodesOnDrag,f=L(),h=(0,s.useState)(!1),v=(0,i.Z)(h,2),g=v[0],p=v[1],k=(0,s.useRef)([]),Z=(0,s.useRef)({x:null,y:null}),P=(0,s.useRef)(0),A=(0,s.useRef)(null),O=(0,s.useRef)({x:0,y:0}),D=(0,s.useRef)(null),I=(0,s.useRef)(!1),z=function(){var e=L();return(0,s.useCallback)((function(t){var n=t.sourceEvent,o=e.getState(),r=o.transform,i=o.snapGrid,a=o.snapToGrid,u=n.touches?n.touches[0].clientX:n.clientX,c=n.touches?n.touches[0].clientY:n.clientY,s={x:(u-r[0])/r[2],y:(c-r[1])/r[2]};return(0,l.Z)({xSnapped:a?i[0]*Math.round(s.x/i[0]):s.x,ySnapped:a?i[1]*Math.round(s.y/i[1]):s.y},s)}),[])}();return(0,s.useEffect)((function(){if(null!==t&&void 0!==t&&t.current){var e=(0,y.Z)(t.current),n=function(e){var t=e.x,n=e.y,o=f.getState(),r=o.nodeInternals,a=o.onNodeDrag,l=o.onSelectionDrag,c=o.updateNodePositions,s=o.nodeExtent,d=o.snapGrid,h=o.snapToGrid,v=o.nodeOrigin,g=o.onError;Z.current={x:t,y:n};var m=!1;if(k.current=k.current.map((function(e){var o={x:t-e.distance.x,y:n-e.distance.y};h&&(o.x=d[0]*Math.round(o.x/d[0]),o.y=d[1]*Math.round(o.y/d[1]));var i=Vt(e,o,r,s,v,g);return m=m||e.position.x!==i.position.x||e.position.y!==i.position.y,e.position=i.position,e.positionAbsolute=i.positionAbsolute,e})),m){c(k.current,!0,!0),p(!0);var y=u?a:qt(l);if(y&&D.current){var b=Kt({nodeId:u,dragItems:k.current,nodeInternals:r}),x=(0,i.Z)(b,2),w=x[0],S=x[1];y(D.current,w,S)}}},l=function e(){if(A.current){var t=G(O.current,A.current),o=(0,i.Z)(t,2),r=o[0],a=o[1];if(0!==r||0!==a){var l,u,c=f.getState(),s=c.transform,d=c.panBy;Z.current.x=(null!==(l=Z.current.x)&&void 0!==l?l:0)-r/s[2],Z.current.y=(null!==(u=Z.current.y)&&void 0!==u?u:0)-a/s[2],n(Z.current),d({x:r,y:a})}P.current=requestAnimationFrame(e)}};if(!o){var s=function(){var e,t,n,o,r=C,i=_,a=N,l=M,u={},c=(0,m.Z)("start","drag","end"),s=0,d=0;function f(e){e.on("mousedown.drag",h).filter(l).on("touchstart.drag",p).on("touchmove.drag",k,w.Q7).on("touchend.drag touchcancel.drag",Z).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(a,l){if(!o&&r.call(this,a,l)){var u=P(this,i.call(this,a,l),a,l,"mouse");u&&((0,y.Z)(a.view).on("mousemove.drag",v,w.Dd).on("mouseup.drag",g,w.Dd),(0,x.Z)(a.view),(0,w.rG)(a),n=!1,e=a.clientX,t=a.clientY,u("start",a))}}function v(o){if((0,w.ZP)(o),!n){var r=o.clientX-e,i=o.clientY-t;n=r*r+i*i>d}u.mouse("drag",o)}function g(e){(0,y.Z)(e.view).on("mousemove.drag mouseup.drag",null),(0,x.D)(e.view,n),(0,w.ZP)(e),u.mouse("end",e)}function p(e,t){if(r.call(this,e,t)){var n,o,a=e.changedTouches,l=i.call(this,e,t),u=a.length;for(n=0;n<u;++n)(o=P(this,l,e,t,a[n].identifier,a[n]))&&((0,w.rG)(e),o("start",e,a[n]))}}function k(e){var t,n,o=e.changedTouches,r=o.length;for(t=0;t<r;++t)(n=u[o[t].identifier])&&((0,w.ZP)(e),n("drag",e,o[t]))}function Z(e){var t,n,r=e.changedTouches,i=r.length;for(o&&clearTimeout(o),o=setTimeout((function(){o=null}),500),t=0;t<i;++t)(n=u[r[t].identifier])&&((0,w.rG)(e),n("end",e,r[t]))}function P(e,t,n,o,r,i){var l,d,h,v=c.copy(),g=(0,b.Z)(i||n,t);if(null!=(h=a.call(e,new E("beforestart",{sourceEvent:n,target:f,identifier:r,active:s,x:g[0],y:g[1],dx:0,dy:0,dispatch:v}),o)))return l=h.x-g[0]||0,d=h.y-g[1]||0,function n(i,a,c){var p,m=g;switch(i){case"start":u[r]=n,p=s++;break;case"end":delete u[r],--s;case"drag":g=(0,b.Z)(c||a,t),p=s}v.call(i,e,new E(i,{sourceEvent:a,subject:h,target:f,identifier:r,active:p,x:g[0]+l,y:g[1]+d,dx:g[0]-m[0],dy:g[1]-m[1],dispatch:v}),o)}}return f.filter=function(e){return arguments.length?(r="function"===typeof e?e:S(!!e),f):r},f.container=function(e){return arguments.length?(i="function"===typeof e?e:S(e),f):i},f.subject=function(e){return arguments.length?(a="function"===typeof e?e:S(e),f):a},f.touchable=function(e){return arguments.length?(l="function"===typeof e?e:S(!!e),f):l},f.on=function(){var e=c.on.apply(c,arguments);return e===c?f:e},f.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,f):Math.sqrt(d)},f}().on("start",(function(e){var n,o=f.getState(),r=o.nodeInternals,a=o.multiSelectionActive,l=o.domNode,s=o.nodesDraggable,h=o.unselectNodesAndEdges,v=o.onNodeDragStart,g=o.onSelectionDragStart,p=u?v:qt(g);d||a||!u||(null!==(n=r.get(u))&&void 0!==n&&n.selected||h());u&&c&&d&&Wt({id:u,store:f,nodeRef:t});var m=z(e);if(Z.current=m,k.current=Ht(r,s,m,u),p&&k.current){var y=Kt({nodeId:u,dragItems:k.current,nodeInternals:r}),b=(0,i.Z)(y,2),x=b[0],w=b[1];p(e.sourceEvent,x,w)}A.current=(null===l||void 0===l?void 0:l.getBoundingClientRect())||null,O.current=fe(e.sourceEvent,A.current)})).on("drag",(function(e){var t=z(e),o=f.getState().autoPanOnNodeDrag;!I.current&&o&&(I.current=!0,l()),Z.current.x===t.xSnapped&&Z.current.y===t.ySnapped||!k.current||(D.current=e.sourceEvent,O.current=fe(e.sourceEvent,A.current),n(t))})).on("end",(function(e){if(p(!1),I.current=!1,cancelAnimationFrame(P.current),k.current){var t=f.getState(),n=t.updateNodePositions,o=t.nodeInternals,r=t.onNodeDragStop,a=t.onSelectionDragStop,l=u?r:qt(a);if(n(k.current,!1,!1),l){var c=Kt({nodeId:u,dragItems:k.current,nodeInternals:o}),s=(0,i.Z)(c,2),d=s[0],h=s[1];l(e.sourceEvent,d,h)}}})).filter((function(e){var n=e.target;return!e.button&&(!r||!Yt(n,".".concat(r),t))&&(!a||Yt(n,a,t))}));return e.call(s),function(){e.on(".drag",null)}}e.on(".drag",null)}}),[t,o,r,a,c,f,u,d,z]),g}function $t(){var e=L();return(0,s.useCallback)((function(t){var n=e.getState(),o=n.nodeInternals,r=n.nodeExtent,i=n.updateNodePositions,a=n.getNodes,l=n.snapToGrid,u=n.snapGrid,c=n.onError,s=n.nodesDraggable,d=a().filter((function(e){return e.selected&&(e.draggable||s&&"undefined"===typeof e.draggable)})),f=l?u[0]:5,h=l?u[1]:5,v=t.isShiftPressed?4:1,g=t.x*f*v,p=t.y*h*v;i(d.map((function(e){if(e.positionAbsolute){var t={x:e.positionAbsolute.x+g,y:e.positionAbsolute.y+p};l&&(t.x=u[0]*Math.round(t.x/u[0]),t.y=u[1]*Math.round(t.y/u[1]));var n=Vt(e,t,o,r,void 0,c),i=n.positionAbsolute,a=n.position;e.position=a,e.positionAbsolute=i}return e})),!0,!1)}),[])}var Qt={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Jt=function(e){var t=function(t){var n=t.id,o=t.type,i=t.data,a=t.xPos,u=t.yPos,f=t.xPosOrigin,h=t.yPosOrigin,v=t.selected,g=t.onClick,p=t.onMouseEnter,m=t.onMouseMove,y=t.onMouseLeave,b=t.onContextMenu,x=t.onDoubleClick,w=t.style,S=t.className,E=t.isDraggable,C=t.isSelectable,_=t.isConnectable,N=t.isFocusable,M=t.selectNodesOnDrag,k=t.sourcePosition,Z=t.targetPosition,P=t.hidden,A=t.resizeObserver,O=t.dragHandle,D=t.zIndex,I=t.isParent,z=t.noDragClassName,R=t.noPanClassName,B=t.initialized,j=t.disableKeyboardA11y,T=t.ariaLabel,X=t.rfId,Y=L(),H=(0,s.useRef)(null),V=(0,s.useRef)(k),K=(0,s.useRef)(Z),U=(0,s.useRef)(o),F=C||E||g||p||m||y,W=$t(),q=Ft(n,Y.getState,p),G=Ft(n,Y.getState,m),$=Ft(n,Y.getState,y),Q=Ft(n,Y.getState,b),J=Ft(n,Y.getState,x);(0,s.useEffect)((function(){if(H.current&&!P){var e=H.current;return null===A||void 0===A||A.observe(e),function(){return null===A||void 0===A?void 0:A.unobserve(e)}}}),[P]),(0,s.useEffect)((function(){var e=U.current!==o,t=V.current!==k,r=K.current!==Z;H.current&&(e||t||r)&&(e&&(U.current=o),t&&(V.current=k),r&&(K.current=Z),Y.getState().updateNodeDimensions([{id:n,nodeElement:H.current,forceUpdate:!0}]))}),[n,o,k,Z]);var ee=Gt({nodeRef:H,disabled:P||!E,noDragClassName:z,handleSelector:O,nodeId:n,isSelectable:C,selectNodesOnDrag:M});return P?null:(0,c.jsx)("div",{className:(0,d.Z)(["react-flow__node","react-flow__node-".concat(o),(0,r.Z)({},R,E),S,{selected:v,selectable:C,parent:I,dragging:ee}]),ref:H,style:(0,l.Z)({zIndex:D,transform:"translate(".concat(f,"px,").concat(h,"px)"),pointerEvents:F?"all":"none",visibility:B?"visible":"hidden"},w),"data-id":n,"data-testid":"rf__node-".concat(n),onMouseEnter:q,onMouseMove:G,onMouseLeave:$,onContextMenu:Q,onClick:function(e){if(!C||M&&E||Wt({id:n,store:Y,nodeRef:H}),g){var t=Y.getState().nodeInternals.get(n);g(e,(0,l.Z)({},t))}},onDoubleClick:J,onKeyDown:N?function(e){if(!se(e))if(le.includes(e.key)&&C){var t="Escape"===e.key;Wt({id:n,store:Y,unselect:t,nodeRef:H})}else!j&&E&&v&&Object.prototype.hasOwnProperty.call(Qt,e.key)&&(Y.setState({ariaLiveMessage:"Moved selected node ".concat(e.key.replace("Arrow","").toLowerCase(),". New position, x: ").concat(~~a,", y: ").concat(~~u)}),W({x:Qt[e.key].x,y:Qt[e.key].y,isShiftPressed:e.shiftKey}))}:void 0,tabIndex:N?0:void 0,role:N?"button":void 0,"aria-describedby":j?void 0:"".concat(_t,"-").concat(X),"aria-label":T,children:(0,c.jsx)(je,{value:n,children:(0,c.jsx)(e,{id:n,data:i,type:o,xPos:a,yPos:u,selected:v,isConnectable:_,sourcePosition:k,targetPosition:Z,dragging:ee,dragHandle:O,zIndex:D})})})};return t.displayName="NodeWrapper",(0,s.memo)(t)};function en(e){var t={input:Jt(e.input||ct),default:Jt(e.default||lt),output:Jt(e.output||dt),group:Jt(e.group||ft)},n=Object.keys(e).filter((function(e){return!["input","default","output","group"].includes(e)})).reduce((function(t,n){return t[n]=Jt(e[n]||lt),t}),{});return(0,l.Z)((0,l.Z)({},t),n)}var tn="undefined"!==typeof document?document:null,nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{target:tn},n=(0,s.useState)(!1),o=(0,i.Z)(n,2),r=o[0],l=o[1],u=(0,s.useRef)(!1),c=(0,s.useRef)(new Set([])),d=(0,s.useMemo)((function(){if(null!==e){var t=(Array.isArray(e)?e:[e]).filter((function(e){return"string"===typeof e})).map((function(e){return e.split("+")})),n=t.reduce((function(e,t){return e.concat.apply(e,(0,a.Z)(t))}),[]);return[t,n]}return[[],[]]}),[e]),f=(0,i.Z)(d,2),h=f[0],v=f[1];return(0,s.useEffect)((function(){if(null!==e){var n,o,r=function(e){if(u.current=e.ctrlKey||e.metaKey||e.shiftKey,!u.current&&se(e))return!1;var t=rn(e.code,v);c.current.add(e[t]),on(h,c.current,!1)&&(e.preventDefault(),l(!0))},i=function(e){if(!u.current&&se(e))return!1;var t=rn(e.code,v);on(h,c.current,!0)?(l(!1),c.current.clear()):c.current.delete(e[t]),u.current=!1},a=function(){c.current.clear(),l(!1)};return null===t||void 0===t||null===(n=t.target)||void 0===n||n.addEventListener("keydown",r),null===t||void 0===t||null===(o=t.target)||void 0===o||o.addEventListener("keyup",i),window.addEventListener("blur",a),function(){var e,n;null===t||void 0===t||null===(e=t.target)||void 0===e||e.removeEventListener("keydown",r),null===t||void 0===t||null===(n=t.target)||void 0===n||n.removeEventListener("keyup",i),window.removeEventListener("blur",a)}}}),[e,l]),r};function on(e,t,n){return e.filter((function(e){return n||e.length===t.size})).some((function(e){return e.every((function(e){return t.has(e)}))}))}function rn(e,t){return t.includes(e)?"code":"key"}function an(e,t,n,o){var r,i,a,l,u,c,s,d;if(!e.parentNode)return n;var f=t.get(e.parentNode),h=He(f,o);return an(f,t,{x:(null!==(r=n.x)&&void 0!==r?r:0)+h.x,y:(null!==(i=n.y)&&void 0!==i?i:0)+h.y,z:(null!==(a=null===(l=f[ae])||void 0===l?void 0:l.z)&&void 0!==a?a:0)>(null!==(u=n.z)&&void 0!==u?u:0)?null!==(c=null===(s=f[ae])||void 0===s?void 0:s.z)&&void 0!==c?c:0:null!==(d=n.z)&&void 0!==d?d:0},o)}function ln(e,t,n){e.forEach((function(o){if(o.parentNode&&!e.has(o.parentNode))throw new Error("Parent node ".concat(o.parentNode," not found"));if(o.parentNode||null!==n&&void 0!==n&&n[o.id]){var r,i,a=an(o,e,(0,l.Z)((0,l.Z)({},o.position),{},{z:null!==(r=null===(i=o[ae])||void 0===i?void 0:i.z)&&void 0!==r?r:0}),t),u=a.x,c=a.y,s=a.z;o.positionAbsolute={x:u,y:c},o[ae].z=s,null!==n&&void 0!==n&&n[o.id]&&(o[ae].isParent=!0)}}))}function un(e,t,n,o){var r=new Map,i={},a=o?1e3:0;return e.forEach((function(e){var n,o=(ie(e.zIndex)?e.zIndex:0)+(e.selected?a:0),u=t.get(e.id),c=(0,l.Z)((0,l.Z)({width:null===u||void 0===u?void 0:u.width,height:null===u||void 0===u?void 0:u.height},e),{},{positionAbsolute:{x:e.position.x,y:e.position.y}});e.parentNode&&(c.parentNode=e.parentNode,i[e.parentNode]=!0),Object.defineProperty(c,ae,{enumerable:!1,value:{handleBounds:null===u||void 0===u||null===(n=u[ae])||void 0===n?void 0:n.handleBounds,z:o}}),r.set(e.id,c)})),ln(r,n,i),r}function cn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e(),o=n.getNodes,r=n.width,a=n.height,l=n.minZoom,u=n.maxZoom,c=n.d3Zoom,s=n.d3Selection,d=n.fitViewOnInitDone,f=n.fitViewOnInit,h=n.nodeOrigin,v=t.initial&&!d&&f;if(c&&s&&(v||!t.initial)){var g=o().filter((function(e){var n,o=t.includeHiddenNodes?e.width&&e.height:!e.hidden;return null!==(n=t.nodes)&&void 0!==n&&n.length?o&&t.nodes.some((function(t){return t.id===e.id})):o})),p=g.every((function(e){return e.width&&e.height}));if(g.length>0&&p){var m,y,b,x=Ve(g,h),w=Fe(x,r,a,null!==(m=t.minZoom)&&void 0!==m?m:l,null!==(y=t.maxZoom)&&void 0!==y?y:u,null!==(b=t.padding)&&void 0!==b?b:.1),S=(0,i.Z)(w,3),E=S[0],C=S[1],_=S[2],N=A.CR.translate(E,C).scale(_);return"number"===typeof t.duration&&t.duration>0?c.transform(We(s,t.duration),N):c.transform(s,N),!0}}return!1}function sn(e,t){return e.forEach((function(e){var n,o=t.get(e.id);o&&t.set(o.id,(0,l.Z)((0,l.Z)({},o),{},(n={},(0,r.Z)(n,ae,o[ae]),(0,r.Z)(n,"selected",e.selected),n)))})),new Map(t)}function dn(e,t){return t.map((function(t){var n=e.find((function(e){return e.id===t.id}));return n&&(t.selected=n.selected),t}))}function fn(e){var t=e.changedNodes,n=e.changedEdges,o=e.get,r=e.set,i=o(),a=i.nodeInternals,l=i.edges,u=i.onNodesChange,c=i.onEdgesChange,s=i.hasDefaultNodes,d=i.hasDefaultEdges;null!==t&&void 0!==t&&t.length&&(s&&r({nodeInternals:sn(t,a)}),null===u||void 0===u||u(t)),null!==n&&void 0!==n&&n.length&&(d&&r({edges:dn(n,l)}),null===c||void 0===c||c(n))}var hn=function(){},vn={zoomIn:hn,zoomOut:hn,zoomTo:hn,getZoom:function(){return 1},setViewport:hn,getViewport:function(){return{x:0,y:0,zoom:1}},fitView:function(){return!1},setCenter:hn,fitBounds:hn,project:function(e){return e},viewportInitialized:!1},gn=function(e){return{d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}},pn=function(){var e=L(),t=X(gn,p.X),n=t.d3Zoom,o=t.d3Selection;return(0,s.useMemo)((function(){return o&&n?{zoomIn:function(e){return n.scaleBy(We(o,null===e||void 0===e?void 0:e.duration),1.2)},zoomOut:function(e){return n.scaleBy(We(o,null===e||void 0===e?void 0:e.duration),1/1.2)},zoomTo:function(e,t){return n.scaleTo(We(o,null===t||void 0===t?void 0:t.duration),e)},getZoom:function(){return e.getState().transform[2]},setViewport:function(t,r){var a,l,u,c=(0,i.Z)(e.getState().transform,3),s=c[0],d=c[1],f=c[2],h=A.CR.translate(null!==(a=t.x)&&void 0!==a?a:s,null!==(l=t.y)&&void 0!==l?l:d).scale(null!==(u=t.zoom)&&void 0!==u?u:f);n.transform(We(o,null===r||void 0===r?void 0:r.duration),h)},getViewport:function(){var t=(0,i.Z)(e.getState().transform,3);return{x:t[0],y:t[1],zoom:t[2]}},fitView:function(t){return cn(e.getState,t)},setCenter:function(t,r,i){var a=e.getState(),l=a.width,u=a.height,c=a.maxZoom,s="undefined"!==typeof(null===i||void 0===i?void 0:i.zoom)?i.zoom:c,d=l/2-t*s,f=u/2-r*s,h=A.CR.translate(d,f).scale(s);n.transform(We(o,null===i||void 0===i?void 0:i.duration),h)},fitBounds:function(t,r){var a,l=e.getState(),u=l.width,c=l.height,s=l.minZoom,d=l.maxZoom,f=Fe(t,u,c,s,d,null!==(a=null===r||void 0===r?void 0:r.padding)&&void 0!==a?a:.1),h=(0,i.Z)(f,3),v=h[0],g=h[1],p=h[2],m=A.CR.translate(v,g).scale(p);n.transform(We(o,null===r||void 0===r?void 0:r.duration),m)},project:function(t){var n=e.getState(),o=n.transform,r=n.snapToGrid,i=n.snapGrid;return Le(t,o,r,i)},viewportInitialized:!0}:vn}),[n,o])};function mn(){var e=pn(),t=L(),n=(0,s.useCallback)((function(){return t.getState().getNodes().map((function(e){return(0,l.Z)({},e)}))}),[]),o=(0,s.useCallback)((function(e){return t.getState().nodeInternals.get(e)}),[]),r=(0,s.useCallback)((function(){var e=t.getState().edges;return(void 0===e?[]:e).map((function(e){return(0,l.Z)({},e)}))}),[]),u=(0,s.useCallback)((function(e){var n=t.getState().edges;return(void 0===n?[]:n).find((function(t){return t.id===e}))}),[]),c=(0,s.useCallback)((function(e){var n=t.getState(),o=n.getNodes,r=n.setNodes,i=n.hasDefaultNodes,a=n.onNodesChange,l=o(),u="function"===typeof e?e(l):e;if(i)r(u);else if(a){a(0===u.length?l.map((function(e){return{type:"remove",id:e.id}})):u.map((function(e){return{item:e,type:"reset"}})))}}),[]),d=(0,s.useCallback)((function(e){var n=t.getState(),o=n.edges,r=void 0===o?[]:o,i=n.setEdges,a=n.hasDefaultEdges,l=n.onEdgesChange,u="function"===typeof e?e(r):e;if(a)i(u);else if(l){l(0===u.length?r.map((function(e){return{type:"remove",id:e.id}})):u.map((function(e){return{item:e,type:"reset"}})))}}),[]),f=(0,s.useCallback)((function(e){var n=Array.isArray(e)?e:[e],o=t.getState(),r=o.getNodes,i=o.setNodes,l=o.hasDefaultNodes,u=o.onNodesChange;if(l){var c=r();i([].concat((0,a.Z)(c),(0,a.Z)(n)))}else if(u){u(n.map((function(e){return{item:e,type:"add"}})))}}),[]),h=(0,s.useCallback)((function(e){var n=Array.isArray(e)?e:[e],o=t.getState(),r=o.edges,i=void 0===r?[]:r,l=o.setEdges,u=o.hasDefaultEdges,c=o.onEdgesChange;if(u)l([].concat((0,a.Z)(i),(0,a.Z)(n)));else if(c){c(n.map((function(e){return{item:e,type:"add"}})))}}),[]),v=(0,s.useCallback)((function(){var e=t.getState(),n=e.getNodes,o=e.edges,r=void 0===o?[]:o,a=e.transform,u=(0,i.Z)(a,3),c=u[0],s=u[1],d=u[2];return{nodes:n().map((function(e){return(0,l.Z)({},e)})),edges:r.map((function(e){return(0,l.Z)({},e)})),viewport:{x:c,y:s,zoom:d}}}),[]),g=(0,s.useCallback)((function(e){var n=e.nodes,o=e.edges,r=t.getState(),i=r.nodeInternals,l=r.getNodes,u=r.edges,c=r.hasDefaultNodes,s=r.hasDefaultEdges,d=r.onNodesDelete,f=r.onEdgesDelete,h=r.onNodesChange,v=r.onEdgesChange,g=(n||[]).map((function(e){return e.id})),p=(o||[]).map((function(e){return e.id})),m=l().reduce((function(e,t){var n=!g.includes(t.id)&&t.parentNode&&e.find((function(e){return e.id===t.parentNode}));return("boolean"!==typeof t.deletable||t.deletable)&&(g.includes(t.id)||n)&&e.push(t),e}),[]),y=u.filter((function(e){return"boolean"!==typeof e.deletable||e.deletable})),b=y.filter((function(e){return p.includes(e.id)}));if(m||b){var x=Ue(m,y),w=[].concat((0,a.Z)(b),(0,a.Z)(x)),S=w.reduce((function(e,t){return e.includes(t.id)||e.push(t.id),e}),[]);if((s||c)&&(s&&t.setState({edges:u.filter((function(e){return!S.includes(e.id)}))}),c&&(m.forEach((function(e){i.delete(e.id)})),t.setState({nodeInternals:new Map(i)}))),S.length>0&&(null===f||void 0===f||f(w),v&&v(S.map((function(e){return{id:e,type:"remove"}})))),m.length>0)if(null===d||void 0===d||d(m),h)h(m.map((function(e){return{id:e.id,type:"remove"}})))}}),[]),p=(0,s.useCallback)((function(e){var n=re(e),o=n?null:t.getState().nodeInternals.get(e.id);return[n?e:te(o),o,n]}),[]),m=(0,s.useCallback)((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2?arguments[2]:void 0,r=p(e),a=(0,i.Z)(r,3),l=a[0],u=a[1],c=a[2];return l?(o||t.getState().getNodes()).filter((function(t){if(!c&&(t.id===u.id||!t.positionAbsolute))return!1;var o=te(t),r=oe(o,l);return n&&r>0||r>=e.width*e.height})):[]}),[]),y=(0,s.useCallback)((function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=p(e),r=(0,i.Z)(o,1)[0];if(!r)return!1;var a=oe(r,t);return n&&a>0||a>=e.width*e.height}),[]);return(0,s.useMemo)((function(){return(0,l.Z)((0,l.Z)({},e),{},{getNodes:n,getNode:o,getEdges:r,getEdge:u,setNodes:c,setEdges:d,addNodes:f,addEdges:h,toObject:v,deleteElements:g,getIntersectingNodes:m,isNodeIntersecting:y})}),[e,n,o,r,u,c,d,f,h,v,g,m,y])}var yn={position:"absolute",width:"100%",height:"100%",top:0,left:0},bn=function(e){return{x:e.x,y:e.y,zoom:e.k}},xn=function(e,t){return e.target.closest(".".concat(t))},wn=function(e,t){return 2===t&&Array.isArray(e)&&e.includes(2)},Sn=function(e){return{d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}},En=function(e){var t=e.onMove,n=e.onMoveStart,o=e.onMoveEnd,r=e.onPaneContextMenu,i=e.zoomOnScroll,a=void 0===i||i,l=e.zoomOnPinch,u=void 0===l||l,d=e.panOnScroll,f=void 0!==d&&d,h=e.panOnScrollSpeed,v=void 0===h?.5:h,g=e.panOnScrollMode,m=void 0===g?ge.Free:g,x=e.zoomOnDoubleClick,w=void 0===x||x,S=e.elementsSelectable,E=e.panOnDrag,C=void 0===E||E,_=e.defaultViewport,N=e.translateExtent,M=e.minZoom,k=e.maxZoom,Z=e.zoomActivationKeyCode,P=e.preventScrolling,O=void 0===P||P,D=e.children,I=e.noWheelClassName,z=e.noPanClassName,R=(0,s.useRef)(),B=L(),T=(0,s.useRef)(!1),Y=(0,s.useRef)(!1),H=(0,s.useRef)(null),V=(0,s.useRef)({x:0,y:0,zoom:0}),K=X(Sn,p.X),W=K.d3Zoom,q=K.d3Selection,G=K.d3ZoomHandler,$=K.userSelectionActive,Q=nn(Z),J=(0,s.useRef)(0);return function(e){var t=L();(0,s.useEffect)((function(){var n,o=function(){if(e.current){var n,o,r=U(e.current);0!==r.height&&0!==r.width||null===(n=(o=t.getState()).onError)||void 0===n||n.call(o,"004",j.error004()),t.setState({width:r.width||500,height:r.height||500})}};return o(),window.addEventListener("resize",o),e.current&&(n=new ResizeObserver((function(){return o()}))).observe(e.current),function(){window.removeEventListener("resize",o),n&&e.current&&n.unobserve(e.current)}}),[])}(H),(0,s.useEffect)((function(){if(H.current){var e=H.current.getBoundingClientRect(),t=(0,A.sP)().scaleExtent([M,k]).translateExtent(N),n=(0,y.Z)(H.current).call(t),o=A.CR.translate(_.x,_.y).scale(F(_.zoom,M,k)),r=[[0,0],[e.width,e.height]],i=t.constrain()(o,r,N);t.transform(n,i),B.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[i.x,i.y,i.k],domNode:H.current.closest(".react-flow")})}}),[]),(0,s.useEffect)((function(){q&&W&&(!f||Q||$?"undefined"!==typeof G&&q.on("wheel.zoom",(function(e,t){if(!O||xn(e,I))return null;e.preventDefault(),G.call(this,e,t)}),{passive:!1}):q.on("wheel.zoom",(function(e){if(xn(e,I))return!1;e.preventDefault(),e.stopImmediatePropagation();var t=q.property("__zoom").k||1;if(e.ctrlKey&&u){var n=(0,b.Z)(e),o=-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*10,r=t*Math.pow(2,o);W.scaleTo(q,r,n)}else{var i=1===e.deltaMode?20:1,a=m===ge.Vertical?0:e.deltaX*i,l=m===ge.Horizontal?0:e.deltaY*i;W.translateBy(q,-a/t*v,-l/t*v)}}),{passive:!1}))}),[$,f,m,q,W,G,Q,u,O,I]),(0,s.useEffect)((function(){W&&W.on("start",(function(e){var t;if(!e.sourceEvent)return null;J.current=e.sourceEvent.button;var o=B.getState().onViewportChangeStart;if(T.current=!0,"mousedown"===(null===(t=e.sourceEvent)||void 0===t?void 0:t.type)&&B.setState({paneDragging:!0}),n||o){var r=bn(e.transform);V.current=r,null===o||void 0===o||o(r),null===n||void 0===n||n(e.sourceEvent,r)}}))}),[W,n]),(0,s.useEffect)((function(){W&&($&&!T.current?W.on("zoom",null):$||W.on("zoom",(function(e){var n,o=B.getState().onViewportChange;if(B.setState({transform:[e.transform.x,e.transform.y,e.transform.k]}),Y.current=!(!r||!wn(C,null!==(n=J.current)&&void 0!==n?n:0)),t||o){var i=bn(e.transform);null===o||void 0===o||o(i),null===t||void 0===t||t(e.sourceEvent,i)}})))}),[$,W,t,C,r]),(0,s.useEffect)((function(){W&&W.on("end",(function(e){var t;if(!e.sourceEvent)return null;var n,i,a=B.getState().onViewportChangeEnd;if(T.current=!1,B.setState({paneDragging:!1}),r&&wn(C,null!==(t=J.current)&&void 0!==t?t:0)&&!Y.current&&r(e.sourceEvent),Y.current=!1,(o||a)&&(n=V.current,i=e.transform,n.x!==i.x||n.y!==i.y||n.zoom!==i.k)){var l=bn(e.transform);V.current=l,clearTimeout(R.current),R.current=setTimeout((function(){null===a||void 0===a||a(l),null===o||void 0===o||o(e.sourceEvent,l)}),f?150:0)}}))}),[W,f,C,o,r]),(0,s.useEffect)((function(){W&&W.filter((function(e){var t=Q||a,n=u&&e.ctrlKey;if(1===e.button&&"mousedown"===e.type&&(xn(e,"react-flow__node")||xn(e,"react-flow__edge")))return!0;if(!C&&!t&&!f&&!w&&!u)return!1;if($)return!1;if(!w&&"dblclick"===e.type)return!1;if(xn(e,I)&&"wheel"===e.type)return!1;if(xn(e,z)&&"wheel"!==e.type)return!1;if(!u&&e.ctrlKey&&"wheel"===e.type)return!1;if(!t&&!f&&!n&&"wheel"===e.type)return!1;if(!C&&("mousedown"===e.type||"touchstart"===e.type))return!1;if(Array.isArray(C)&&!C.includes(e.button)&&("mousedown"===e.type||"touchstart"===e.type))return!1;var o=Array.isArray(C)&&C.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&o}))}),[$,W,a,u,f,w,C,S,Q]),(0,c.jsx)("div",{className:"react-flow__renderer",ref:H,style:yn,children:D})},Cn=function(e){return{userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect}};function _n(){var e=X(Cn,p.X),t=e.userSelectionActive,n=e.userSelectionRect;return t&&n?(0,c.jsx)("div",{className:"react-flow__selection react-flow__container",style:{width:n.width,height:n.height,transform:"translate(".concat(n.x,"px, ").concat(n.y,"px)")}}):null}function Nn(e,t){var n=e.find((function(e){return e.id===t.parentNode}));if(n){var o=t.position.x+t.width-n.width,r=t.position.y+t.height-n.height;if(o>0||r>0||t.position.x<0||t.position.y<0){var i,a;if(n.style=(0,l.Z)({},n.style)||{},n.style.width=null!==(i=n.style.width)&&void 0!==i?i:n.width,n.style.height=null!==(a=n.style.height)&&void 0!==a?a:n.height,o>0&&(n.style.width+=o),r>0&&(n.style.height+=r),t.position.x<0){var u=Math.abs(t.position.x);n.position.x=n.position.x-u,n.style.width+=u,t.position.x=0}if(t.position.y<0){var c=Math.abs(t.position.y);n.position.y=n.position.y-c,n.style.height+=c,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function Mn(e,t){if(e.some((function(e){return"reset"===e.type})))return e.filter((function(e){return"reset"===e.type})).map((function(e){return e.item}));var n=e.filter((function(e){return"add"===e.type})).map((function(e){return e.item}));return t.reduce((function(t,n){var r=e.filter((function(e){return e.id===n.id}));if(0===r.length)return t.push(n),t;var i,a=(0,l.Z)({},n),u=(0,o.Z)(r);try{for(u.s();!(i=u.n()).done;){var c=i.value;if(c)switch(c.type){case"select":a.selected=c.selected;break;case"position":"undefined"!==typeof c.position&&(a.position=c.position),"undefined"!==typeof c.positionAbsolute&&(a.positionAbsolute=c.positionAbsolute),"undefined"!==typeof c.dragging&&(a.dragging=c.dragging),a.expandParent&&Nn(t,a);break;case"dimensions":"undefined"!==typeof c.dimensions&&(a.width=c.dimensions.width,a.height=c.dimensions.height),"undefined"!==typeof c.updateStyle&&(a.style=(0,l.Z)((0,l.Z)({},a.style||{}),c.dimensions)),"boolean"===typeof c.resizing&&(a.resizing=c.resizing),a.expandParent&&Nn(t,a);break;case"remove":return t}}}catch(s){u.e(s)}finally{u.f()}return t.push(a),t}),n)}function kn(e,t){return Mn(e,t)}var Zn=function(e,t){return{id:e,type:"select",selected:t}};function Pn(e,t){return e.reduce((function(e,n){var o=t.includes(n.id);return!n.selected&&o?(n.selected=!0,e.push(Zn(n.id,!0))):n.selected&&!o&&(n.selected=!1,e.push(Zn(n.id,!1))),e}),[])}var An=function(e,t){return function(n){n.target===t.current&&(null===e||void 0===e||e(n))}},On=function(e){return{userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}},Dn=(0,s.memo)((function(e){var t=e.isSelecting,n=e.selectionMode,o=void 0===n?pe.Full:n,r=e.panOnDrag,i=e.onSelectionStart,a=e.onSelectionEnd,u=e.onPaneClick,f=e.onPaneContextMenu,h=e.onPaneScroll,v=e.onPaneMouseEnter,g=e.onPaneMouseMove,m=e.onPaneMouseLeave,y=e.children,b=(0,s.useRef)(null),x=L(),w=(0,s.useRef)(0),S=(0,s.useRef)(0),E=(0,s.useRef)(),C=X(On,p.X),_=C.userSelectionActive,N=C.elementsSelectable,M=C.dragging,k=function(){x.setState({userSelectionActive:!1,userSelectionRect:null}),w.current=0,S.current=0},Z=function(e){null===u||void 0===u||u(e),x.getState().resetSelectedElements(),x.setState({nodesSelectionActive:!1})},P=h?function(e){return h(e)}:void 0,A=N&&(t||_);return(0,c.jsxs)("div",{className:(0,d.Z)(["react-flow__pane",{dragging:M,selection:t}]),onClick:A?void 0:An(Z,b),onContextMenu:An((function(e){Array.isArray(r)&&null!==r&&void 0!==r&&r.includes(2)?e.preventDefault():null===f||void 0===f||f(e)}),b),onWheel:An(P,b),onMouseEnter:A?void 0:v,onMouseDown:A?function(e){var n=x.getState(),o=n.resetSelectedElements,r=n.domNode;if(E.current=null===r||void 0===r?void 0:r.getBoundingClientRect(),N&&t&&0===e.button&&e.target===b.current&&E.current){var a=fe(e,E.current),l=a.x,u=a.y;o(),x.setState({userSelectionRect:{width:0,height:0,startX:l,startY:u,x:l,y:u}}),null===i||void 0===i||i(e)}}:void 0,onMouseMove:A?function(e){var n,r,i=x.getState(),a=i.userSelectionRect,u=i.nodeInternals,c=i.edges,s=i.transform,d=i.onNodesChange,f=i.onEdgesChange,h=i.nodeOrigin,v=i.getNodes;if(t&&E.current&&a){x.setState({userSelectionActive:!0,nodesSelectionActive:!1});var g=fe(e,E.current),p=null!==(n=a.startX)&&void 0!==n?n:0,m=null!==(r=a.startY)&&void 0!==r?r:0,y=(0,l.Z)((0,l.Z)({},a),{},{x:g.x<p?g.x:p,y:g.y<m?g.y:m,width:Math.abs(g.x-p),height:Math.abs(g.y-m)}),b=v(),C=Ke(u,y,s,o===pe.Partial,!0,h),_=Ue(C,c).map((function(e){return e.id})),N=C.map((function(e){return e.id}));if(w.current!==N.length){w.current=N.length;var M=Pn(b,N);M.length&&(null===d||void 0===d||d(M))}if(S.current!==_.length){S.current=_.length;var k=Pn(c,_);k.length&&(null===f||void 0===f||f(k))}x.setState({userSelectionRect:y})}}:g,onMouseUp:A?function(e){if(0===e.button){var t=x.getState().userSelectionRect;!_&&t&&e.target===b.current&&(null===Z||void 0===Z||Z(e)),x.setState({nodesSelectionActive:w.current>0}),k(),null===a||void 0===a||a(e)}}:void 0,onMouseLeave:A?function(e){_&&(x.setState({nodesSelectionActive:w.current>0}),null===a||void 0===a||a(e)),k()}:m,ref:b,style:yn,children:[y,(0,c.jsx)(_n,{})]})}));Dn.displayName="Pane";var In=function(e){var t=e.getNodes().filter((function(e){return e.selected}));return(0,l.Z)((0,l.Z)({},Ve(t,e.nodeOrigin)),{},{transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")"),userSelectionActive:e.userSelectionActive})};var zn=(0,s.memo)((function(e){var t=e.onSelectionContextMenu,n=e.noPanClassName,o=e.disableKeyboardA11y,r=L(),i=X(In,p.X),a=i.width,l=i.height,u=i.x,f=i.y,h=i.transformString,v=i.userSelectionActive,g=$t(),m=(0,s.useRef)(null);if((0,s.useEffect)((function(){var e;o||(null===(e=m.current)||void 0===e||e.focus({preventScroll:!0}))}),[o]),Gt({nodeRef:m}),v||!a||!l)return null;var y=t?function(e){var n=r.getState().getNodes().filter((function(e){return e.selected}));t(e,n)}:void 0;return(0,c.jsx)("div",{className:(0,d.Z)(["react-flow__nodesselection","react-flow__container",n]),style:{transform:h},children:(0,c.jsx)("div",{ref:m,className:"react-flow__nodesselection-rect",onContextMenu:y,tabIndex:o?void 0:-1,onKeyDown:o?void 0:function(e){Object.prototype.hasOwnProperty.call(Qt,e.key)&&g({x:Qt[e.key].x,y:Qt[e.key].y,isShiftPressed:e.shiftKey})},style:{width:a,height:l,top:f,left:u}})})})),Rn=function(e){return e.nodesSelectionActive},Bn=function(e){var t=e.children,n=e.onPaneClick,o=e.onPaneMouseEnter,r=e.onPaneMouseMove,i=e.onPaneMouseLeave,a=e.onPaneContextMenu,l=e.onPaneScroll,u=e.deleteKeyCode,d=e.onMove,f=e.onMoveStart,h=e.onMoveEnd,v=e.selectionKeyCode,g=e.selectionOnDrag,p=e.selectionMode,m=e.onSelectionStart,y=e.onSelectionEnd,b=e.multiSelectionKeyCode,x=e.panActivationKeyCode,w=e.zoomActivationKeyCode,S=e.elementsSelectable,E=e.zoomOnScroll,C=e.zoomOnPinch,_=e.panOnScroll,N=e.panOnScrollSpeed,M=e.panOnScrollMode,k=e.zoomOnDoubleClick,Z=e.panOnDrag,P=e.defaultViewport,A=e.translateExtent,O=e.minZoom,D=e.maxZoom,I=e.preventScrolling,z=e.onSelectionContextMenu,R=e.noWheelClassName,B=e.noPanClassName,j=e.disableKeyboardA11y,T=X(Rn),Y=nn(v),H=nn(x)||Z,V=Y||g&&!0!==H;return function(e){var t=e.deleteKeyCode,n=e.multiSelectionKeyCode,o=L(),r=mn().deleteElements,i=nn(t),a=nn(n);(0,s.useEffect)((function(){if(i){var e=o.getState(),t=e.edges,n=(0,e.getNodes)().filter((function(e){return e.selected})),a=t.filter((function(e){return e.selected}));r({nodes:n,edges:a}),o.setState({nodesSelectionActive:!1})}}),[i]),(0,s.useEffect)((function(){o.setState({multiSelectionActive:a})}),[a])}({deleteKeyCode:u,multiSelectionKeyCode:b}),(0,c.jsx)(En,{onMove:d,onMoveStart:f,onMoveEnd:h,onPaneContextMenu:a,elementsSelectable:S,zoomOnScroll:E,zoomOnPinch:C,panOnScroll:_,panOnScrollSpeed:N,panOnScrollMode:M,zoomOnDoubleClick:k,panOnDrag:!Y&&H,defaultViewport:P,translateExtent:A,minZoom:O,maxZoom:D,zoomActivationKeyCode:w,preventScrolling:I,noWheelClassName:R,noPanClassName:B,children:(0,c.jsxs)(Dn,{onSelectionStart:m,onSelectionEnd:y,onPaneClick:n,onPaneMouseEnter:o,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:l,panOnDrag:H,isSelecting:!!V,selectionMode:p,children:[t,T&&(0,c.jsx)(zn,{onSelectionContextMenu:z,noPanClassName:B,disableKeyboardA11y:j})]})})};Bn.displayName="FlowRenderer";var jn=(0,s.memo)(Bn);var Tn=function(e){return{nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}},Xn=function(e){var t,n=X(Tn,p.X),o=n.nodesDraggable,r=n.nodesConnectable,i=n.nodesFocusable,a=n.elementsSelectable,l=n.updateNodeDimensions,u=n.onError,d=(t=e.onlyRenderVisibleElements,X((0,s.useCallback)((function(e){return t?Ke(e.nodeInternals,{x:0,y:0,width:e.width,height:e.height},e.transform,!0):e.getNodes()}),[t]))),f=(0,s.useRef)(),h=(0,s.useMemo)((function(){if("undefined"===typeof ResizeObserver)return null;var e=new ResizeObserver((function(e){var t=e.map((function(e){return{id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0}}));l(t)}));return f.current=e,e}),[]);return(0,s.useEffect)((function(){return function(){var e;null===f||void 0===f||null===(e=f.current)||void 0===e||e.disconnect()}}),[]),(0,c.jsx)("div",{className:"react-flow__nodes",style:yn,children:d.map((function(t){var n,l,s,d,f,v,g,p=t.type||"default";e.nodeTypes[p]||(null===u||void 0===u||u("003",j.error003(p)),p="default");var m=e.nodeTypes[p]||e.nodeTypes.default,y=!!(t.draggable||o&&"undefined"===typeof t.draggable),b=!!(t.selectable||a&&"undefined"===typeof t.selectable),x=!!(t.connectable||r&&"undefined"===typeof t.connectable),w=!!(t.focusable||i&&"undefined"===typeof t.focusable),S=e.nodeExtent?W(t.positionAbsolute,e.nodeExtent):t.positionAbsolute,E=null!==(n=null===S||void 0===S?void 0:S.x)&&void 0!==n?n:0,C=null!==(l=null===S||void 0===S?void 0:S.y)&&void 0!==l?l:0,_=function(e){var t=e.x,n=e.y,o=e.width,r=e.height,i=e.origin;return o&&r?i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:t,y:n}:{x:t-o*i[0],y:n-r*i[1]}:{x:t,y:n}}({x:E,y:C,width:null!==(s=t.width)&&void 0!==s?s:0,height:null!==(d=t.height)&&void 0!==d?d:0,origin:e.nodeOrigin});return(0,c.jsx)(m,{id:t.id,className:t.className,style:t.style,type:p,data:t.data,sourcePosition:t.sourcePosition||be.Bottom,targetPosition:t.targetPosition||be.Top,hidden:t.hidden,xPos:E,yPos:C,xPosOrigin:_.x,yPosOrigin:_.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!t.selected,isDraggable:y,isSelectable:b,isConnectable:x,isFocusable:w,resizeObserver:h,dragHandle:t.dragHandle,zIndex:null!==(f=null===(v=t[ae])||void 0===v?void 0:v.z)&&void 0!==f?f:0,isParent:!(null===(g=t[ae])||void 0===g||!g.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!t.width&&!!t.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:t.ariaLabel},t.id)}))})};Xn.displayName="NodeRenderer";var Ln=(0,s.memo)(Xn),Yn=[{level:0,isMaxLevel:!0,edges:[]}];function Hn(e,t,n){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=-1,r=e.reduce((function(e,r){var i,a,l,u,c=ie(r.zIndex),s=c?r.zIndex:0;return n&&(s=c?r.zIndex:Math.max((null===(i=t.get(r.source))||void 0===i||null===(a=i[ae])||void 0===a?void 0:a.z)||0,(null===(l=t.get(r.target))||void 0===l||null===(u=l[ae])||void 0===u?void 0:u.z)||0)),e[s]?e[s].push(r):e[s]=[r],o=s>o?s:o,e}),{}),a=Object.entries(r).map((function(e){var t=(0,i.Z)(e,2),n=+t[0];return{edges:t[1],level:n,isMaxLevel:n===o}}));return 0===a.length?Yn:a}(X((0,s.useCallback)((function(n){return e?n.edges.filter((function(e){var o=t.get(e.source),r=t.get(e.target);return(null===o||void 0===o?void 0:o.width)&&(null===o||void 0===o?void 0:o.height)&&(null===r||void 0===r?void 0:r.width)&&(null===r||void 0===r?void 0:r.height)&&function(e){var t=e.sourcePos,n=e.targetPos,o=e.sourceWidth,r=e.sourceHeight,i=e.targetWidth,a=e.targetHeight,l=e.width,u=e.height,c=e.transform,s={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x+o,n.x+i),y2:Math.max(t.y+r,n.y+a)};s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);var d=J({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:l/c[2],height:u/c[2]}),f=Math.max(0,Math.min(d.x2,s.x2)-Math.max(d.x,s.x)),h=Math.max(0,Math.min(d.y2,s.y2)-Math.max(d.y,s.y));return Math.ceil(f*h)>0}({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:r.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:r.width,targetHeight:r.height,width:n.width,height:n.height,transform:n.transform})})):n.edges}),[e,t])),t,n)}var Vn=(Z={},(0,r.Z)(Z,ye.Arrow,(function(e){var t=e.color,n=void 0===t?"none":t,o=e.strokeWidth,r=void 0===o?1:o;return(0,c.jsx)("polyline",{stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:r,fill:"none",points:"-5,-4 0,0 -5,4"})})),(0,r.Z)(Z,ye.ArrowClosed,(function(e){var t=e.color,n=void 0===t?"none":t,o=e.strokeWidth,r=void 0===o?1:o;return(0,c.jsx)("polyline",{stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:r,fill:n,points:"-5,-4 0,0 -5,4 -5,-4"})})),Z);var Kn=function(e){var t=e.id,n=e.type,o=e.color,r=e.width,i=void 0===r?12.5:r,a=e.height,l=void 0===a?12.5:a,u=e.markerUnits,d=void 0===u?"strokeWidth":u,f=e.strokeWidth,h=e.orient,v=void 0===h?"auto-start-reverse":h,g=function(e){var t=L();return(0,s.useMemo)((function(){var n,o;return Object.prototype.hasOwnProperty.call(Vn,e)?Vn[e]:(null===(n=(o=t.getState()).onError)||void 0===n||n.call(o,"009",j.error009(e)),null)}),[e])}(n);return g?(0,c.jsx)("marker",{className:"react-flow__arrowhead",id:t,markerWidth:"".concat(i),markerHeight:"".concat(l),viewBox:"-10 -10 20 20",markerUnits:d,orient:v,refX:"0",refY:"0",children:(0,c.jsx)(g,{color:o,strokeWidth:f})}):null},Un=function(e){var t=e.defaultColor,n=e.rfId,o=X((0,s.useCallback)(function(e){var t=e.defaultColor,n=e.rfId;return function(e){var o=[];return e.edges.reduce((function(e,r){return[r.markerStart,r.markerEnd].forEach((function(r){if(r&&"object"===typeof r){var i=Xe(r,n);o.includes(i)||(e.push((0,l.Z)({id:i,color:r.color||t},r)),o.push(i))}})),e}),[]).sort((function(e,t){return e.id.localeCompare(t.id)}))}}({defaultColor:t,rfId:n}),[t,n]),(function(e,t){return!(e.length!==t.length||e.some((function(e,n){return e.id!==t[n].id})))}));return(0,c.jsx)("defs",{children:o.map((function(e){return(0,c.jsx)(Kn,{id:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient},e.id)}))})};Un.displayName="MarkerDefinitions";var Fn=(0,s.memo)(Un),Wn=function(e){return{nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}},qn=function(e){var t=e.defaultMarkerColor,n=e.onlyRenderVisibleElements,o=e.elevateEdgesOnSelect,r=e.rfId,a=e.edgeTypes,l=e.noPanClassName,u=e.onEdgeUpdate,s=e.onEdgeContextMenu,f=e.onEdgeMouseEnter,h=e.onEdgeMouseMove,v=e.onEdgeMouseLeave,g=e.onEdgeClick,m=e.edgeUpdaterRadius,y=e.onEdgeDoubleClick,b=e.onEdgeUpdateStart,x=e.onEdgeUpdateEnd,w=e.children,S=X(Wn,p.X),E=S.edgesFocusable,C=S.edgesUpdatable,_=S.elementsSelectable,N=S.width,M=S.height,k=S.connectionMode,Z=S.nodeInternals,P=S.onError,A=Hn(n,Z,o);return N?(0,c.jsxs)(c.Fragment,{children:[A.map((function(e){var n=e.level,o=e.edges,p=e.isMaxLevel;return(0,c.jsxs)("svg",{style:{zIndex:n},width:N,height:M,className:"react-flow__edges react-flow__container",children:[p&&(0,c.jsx)(Fn,{defaultColor:t,rfId:r}),(0,c.jsx)("g",{children:o.map((function(e){var t,n,o=Xt(Z.get(e.source)),p=(0,i.Z)(o,3),w=p[0],S=p[1],N=p[2],M=Xt(Z.get(e.target)),A=(0,i.Z)(M,3),O=A[0],D=A[1],I=A[2];if(!N||!I)return null;var z=e.type||"default";a[z]||(null===P||void 0===P||P("011",j.error011(z)),z="default");var R=a[z]||a.default,B=k===ve.Strict?D.target:(null!==(t=D.target)&&void 0!==t?t:[]).concat(null!==(n=D.source)&&void 0!==n?n:[]),T=Tt(S.source,e.sourceHandle),X=Tt(B,e.targetHandle),L=(null===T||void 0===T?void 0:T.position)||be.Bottom,Y=(null===X||void 0===X?void 0:X.position)||be.Top,H=!!(e.focusable||E&&"undefined"===typeof e.focusable),V="undefined"!==typeof u&&(e.updatable||C&&"undefined"===typeof e.updatable);if(!T||!X)return null===P||void 0===P||P("008",j.error008(T,e)),null;var K=function(e,t,n,o,r,i){var a=jt(n,e,t),l=jt(i,o,r);return{sourceX:a.x,sourceY:a.y,targetX:l.x,targetY:l.y}}(w,T,L,O,X,Y),U=K.sourceX,F=K.sourceY,W=K.targetX,q=K.targetY;return(0,c.jsx)(R,{id:e.id,className:(0,d.Z)([e.className,l]),type:z,data:e.data,selected:!!e.selected,animated:!!e.animated,hidden:!!e.hidden,label:e.label,labelStyle:e.labelStyle,labelShowBg:e.labelShowBg,labelBgStyle:e.labelBgStyle,labelBgPadding:e.labelBgPadding,labelBgBorderRadius:e.labelBgBorderRadius,style:e.style,source:e.source,target:e.target,sourceHandleId:e.sourceHandle,targetHandleId:e.targetHandle,markerEnd:e.markerEnd,markerStart:e.markerStart,sourceX:U,sourceY:F,targetX:W,targetY:q,sourcePosition:L,targetPosition:Y,elementsSelectable:_,onEdgeUpdate:u,onContextMenu:s,onMouseEnter:f,onMouseMove:h,onMouseLeave:v,onClick:g,edgeUpdaterRadius:m,onEdgeDoubleClick:y,onEdgeUpdateStart:b,onEdgeUpdateEnd:x,rfId:r,ariaLabel:e.ariaLabel,isFocusable:H,isUpdatable:V,pathOptions:"pathOptions"in e?e.pathOptions:void 0,interactionWidth:e.interactionWidth},e.id)}))})]},n)})),w]}):null};qn.displayName="EdgeRenderer";var Gn=(0,s.memo)(qn),$n=function(e){return"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")")};function Qn(e){var t=e.children,n=X($n);return(0,c.jsx)("div",{className:"react-flow__viewport react-flow__container",style:{transform:n},children:t})}var Jn=(P={},(0,r.Z)(P,be.Left,be.Right),(0,r.Z)(P,be.Right,be.Left),(0,r.Z)(P,be.Top,be.Bottom),(0,r.Z)(P,be.Bottom,be.Top),P),eo=function(e){var t,n,o,r,a,u,d,f=e.nodeId,h=e.handleType,v=e.style,g=e.type,m=void 0===g?me.Bezier:g,y=e.CustomComponent,b=e.connectionStatus,x=X((0,s.useCallback)((function(e){return{fromNode:e.nodeInternals.get(f),handleId:e.connectionHandleId,toX:(e.connectionPosition.x-e.transform[0])/e.transform[2],toY:(e.connectionPosition.y-e.transform[1])/e.transform[2],connectionMode:e.connectionMode}}),[f]),p.X),w=x.fromNode,S=x.handleId,E=x.toX,C=x.toY,_=x.connectionMode,N=null===w||void 0===w||null===(t=w[ae])||void 0===t?void 0:t.handleBounds,M=null===N||void 0===N?void 0:N[h];if(_===ve.Loose&&(M=M||(null===N||void 0===N?void 0:N["source"===h?"target":"source"])),!w||!M)return null;var k=S?M.find((function(e){return e.id===S})):M[0],Z=k?k.x+k.width/2:(null!==(n=w.width)&&void 0!==n?n:0)/2,P=k?k.y+k.height/2:null!==(o=w.height)&&void 0!==o?o:0,A=(null!==(r=null===(a=w.positionAbsolute)||void 0===a?void 0:a.x)&&void 0!==r?r:0)+Z,O=(null!==(u=null===(d=w.positionAbsolute)||void 0===d?void 0:d.y)&&void 0!==u?u:0)+P,D=null===k||void 0===k?void 0:k.position,I=D?Jn[D]:null;if(!D||!I)return null;if(y)return(0,c.jsx)(y,{connectionLineType:m,connectionLineStyle:v,fromNode:w,fromHandle:k,fromX:A,fromY:O,toX:E,toY:C,fromPosition:D,toPosition:I,connectionStatus:b});var z="",R={sourceX:A,sourceY:O,sourcePosition:D,targetX:E,targetY:C,targetPosition:I};if(m===me.Bezier){var B=ze(R);z=(0,i.Z)(B,1)[0]}else if(m===me.Step){var j=Ze((0,l.Z)((0,l.Z)({},R),{},{borderRadius:0}));z=(0,i.Z)(j,1)[0]}else if(m===me.SmoothStep){var T=Ze(R);z=(0,i.Z)(T,1)[0]}else if(m===me.SimpleBezier){var L=Ce(R);z=(0,i.Z)(L,1)[0]}else z="M".concat(A,",").concat(O," ").concat(E,",").concat(C);return(0,c.jsx)("path",{d:z,fill:"none",className:"react-flow__connection-path",style:v})};eo.displayName="ConnectionLine";var to=function(e){return{nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height}};function no(e){var t=e.containerStyle,n=e.style,o=e.type,r=e.component,i=X(to,p.X),a=i.nodeId,l=i.handleType,u=i.nodesConnectable,s=i.width,f=i.height,h=i.connectionStatus;return!!(a&&l&&s&&u)?(0,c.jsx)("svg",{style:t,width:s,height:f,className:"react-flow__edges react-flow__connectionline react-flow__container",children:(0,c.jsx)("g",{className:(0,d.Z)(["react-flow__connection",h]),children:(0,c.jsx)(eo,{nodeId:a,handleType:l,style:n,type:o,CustomComponent:r,connectionStatus:h})})}):null}var oo=function(e){var t=e.nodeTypes,n=e.edgeTypes,o=e.onMove,r=e.onMoveStart,i=e.onMoveEnd,a=e.onInit,l=e.onNodeClick,u=e.onEdgeClick,d=e.onNodeDoubleClick,f=e.onEdgeDoubleClick,h=e.onNodeMouseEnter,v=e.onNodeMouseMove,g=e.onNodeMouseLeave,p=e.onNodeContextMenu,m=e.onSelectionContextMenu,y=e.onSelectionStart,b=e.onSelectionEnd,x=e.connectionLineType,w=e.connectionLineStyle,S=e.connectionLineComponent,E=e.connectionLineContainerStyle,C=e.selectionKeyCode,_=e.selectionOnDrag,N=e.selectionMode,M=e.multiSelectionKeyCode,k=e.panActivationKeyCode,Z=e.zoomActivationKeyCode,P=e.deleteKeyCode,A=e.onlyRenderVisibleElements,O=e.elementsSelectable,D=e.selectNodesOnDrag,I=e.defaultViewport,z=e.translateExtent,R=e.minZoom,B=e.maxZoom,j=e.preventScrolling,T=e.defaultMarkerColor,X=e.zoomOnScroll,L=e.zoomOnPinch,Y=e.panOnScroll,H=e.panOnScrollSpeed,V=e.panOnScrollMode,K=e.zoomOnDoubleClick,U=e.panOnDrag,F=e.onPaneClick,W=e.onPaneMouseEnter,q=e.onPaneMouseMove,G=e.onPaneMouseLeave,$=e.onPaneScroll,Q=e.onPaneContextMenu,J=e.onEdgeUpdate,ee=e.onEdgeContextMenu,te=e.onEdgeMouseEnter,ne=e.onEdgeMouseMove,oe=e.onEdgeMouseLeave,re=e.edgeUpdaterRadius,ie=e.onEdgeUpdateStart,ae=e.onEdgeUpdateEnd,le=e.noDragClassName,ue=e.noWheelClassName,ce=e.noPanClassName,se=e.elevateEdgesOnSelect,de=e.disableKeyboardA11y,fe=e.nodeOrigin,he=e.nodeExtent,ve=e.rfId;return function(e){var t=mn(),n=(0,s.useRef)(!1);(0,s.useEffect)((function(){!n.current&&t.viewportInitialized&&e&&(setTimeout((function(){return e(t)}),1),n.current=!0)}),[e,t.viewportInitialized])}(a),(0,c.jsx)(jn,{onPaneClick:F,onPaneMouseEnter:W,onPaneMouseMove:q,onPaneMouseLeave:G,onPaneContextMenu:Q,onPaneScroll:$,deleteKeyCode:P,selectionKeyCode:C,selectionOnDrag:_,selectionMode:N,onSelectionStart:y,onSelectionEnd:b,multiSelectionKeyCode:M,panActivationKeyCode:k,zoomActivationKeyCode:Z,elementsSelectable:O,onMove:o,onMoveStart:r,onMoveEnd:i,zoomOnScroll:X,zoomOnPinch:L,zoomOnDoubleClick:K,panOnScroll:Y,panOnScrollSpeed:H,panOnScrollMode:V,panOnDrag:U,defaultViewport:I,translateExtent:z,minZoom:R,maxZoom:B,onSelectionContextMenu:m,preventScrolling:j,noDragClassName:le,noWheelClassName:ue,noPanClassName:ce,disableKeyboardA11y:de,children:(0,c.jsxs)(Qn,{children:[(0,c.jsx)(Gn,{edgeTypes:n,onEdgeClick:u,onEdgeDoubleClick:f,onEdgeUpdate:J,onlyRenderVisibleElements:A,onEdgeContextMenu:ee,onEdgeMouseEnter:te,onEdgeMouseMove:ne,onEdgeMouseLeave:oe,onEdgeUpdateStart:ie,onEdgeUpdateEnd:ae,edgeUpdaterRadius:re,defaultMarkerColor:T,noPanClassName:ce,elevateEdgesOnSelect:!!se,disableKeyboardA11y:de,rfId:ve,children:(0,c.jsx)(no,{style:w,type:x,component:S,containerStyle:E})}),(0,c.jsx)("div",{className:"react-flow__edgelabel-renderer"}),(0,c.jsx)(Ln,{nodeTypes:t,onNodeClick:l,onNodeDoubleClick:d,onNodeMouseEnter:h,onNodeMouseMove:v,onNodeMouseLeave:g,onNodeContextMenu:p,selectNodesOnDrag:D,onlyRenderVisibleElements:A,noPanClassName:ce,noDragClassName:le,disableKeyboardA11y:de,nodeOrigin:fe,nodeExtent:he,rfId:ve})]})})};oo.displayName="GraphView";var ro=(0,s.memo)(oo),io=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],ao={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:io,nodeExtent:io,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:ve.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:ue,isValidConnection:void 0},lo=function(e){var t=e.children,n=(0,s.useRef)(null);return n.current||(n.current=g((function(e,t){return(0,l.Z)((0,l.Z)({},ao),{},{setNodes:function(n){var o=t(),r=o.nodeInternals,i=o.nodeOrigin,a=o.elevateNodesOnSelect;e({nodeInternals:un(n,r,i,a)})},getNodes:function(){return Array.from(t().nodeInternals.values())},setEdges:function(n){var o=t().defaultEdgeOptions,r=void 0===o?{}:o;e({edges:n.map((function(e){return(0,l.Z)((0,l.Z)({},r),e)}))})},setDefaultNodesAndEdges:function(n,o){var r="undefined"!==typeof n,i="undefined"!==typeof o,a=r?un(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:a,edges:i?o:[],hasDefaultNodes:r,hasDefaultEdges:i})},updateNodeDimensions:function(n){var o=t(),i=o.onNodesChange,a=o.nodeInternals,u=o.fitViewOnInit,c=o.fitViewOnInitDone,s=o.fitViewOnInitOptions,d=o.domNode,f=o.nodeOrigin,h=null===d||void 0===d?void 0:d.querySelector(".react-flow__viewport");if(h){var v=window.getComputedStyle(h),g=new window.DOMMatrixReadOnly(v.transform).m22,p=n.reduce((function(e,t){var n=a.get(t.id);if(n){var o=U(t.nodeElement);o.width&&o.height&&(n.width!==o.width||n.height!==o.height||t.forceUpdate)&&(a.set(n.id,(0,l.Z)((0,l.Z)({},n),{},(0,r.Z)({},ae,(0,l.Z)((0,l.Z)({},n[ae]),{},{handleBounds:{source:Ut(".source",t.nodeElement,g,f),target:Ut(".target",t.nodeElement,g,f)}})),o)),e.push({id:n.id,type:"dimensions",dimensions:o}))}return e}),[]);ln(a,f);var m=c||u&&!c&&cn(t,(0,l.Z)({initial:!0},s));e({nodeInternals:new Map(a),fitViewOnInitDone:m}),(null===p||void 0===p?void 0:p.length)>0&&(null===i||void 0===i||i(p))}},updateNodePositions:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,t().triggerNodeChanges)(e.map((function(e){var t={id:e.id,type:"position",dragging:o};return n&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t})))},triggerNodeChanges:function(n){var o=t(),r=o.onNodesChange,i=o.nodeInternals,a=o.hasDefaultNodes,l=o.nodeOrigin,u=o.getNodes,c=o.elevateNodesOnSelect;if(null!==n&&void 0!==n&&n.length){if(a){var s=un(kn(n,u()),i,l,c);e({nodeInternals:s})}null===r||void 0===r||r(n)}},addSelectedNodes:function(n){var o,r=t(),i=r.multiSelectionActive,a=r.edges,l=r.getNodes,u=null;i?o=n.map((function(e){return Zn(e,!0)})):(o=Pn(l(),n),u=Pn(a,[])),fn({changedNodes:o,changedEdges:u,get:t,set:e})},addSelectedEdges:function(n){var o,r=t(),i=r.multiSelectionActive,a=r.edges,l=r.getNodes,u=null;i?o=n.map((function(e){return Zn(e,!0)})):(o=Pn(a,n),u=Pn(l(),[])),fn({changedNodes:u,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.nodes,r=n.edges,i=t(),a=i.edges,l=i.getNodes,u=r||a;fn({changedNodes:(o||l()).map((function(e){return e.selected=!1,Zn(e.id,!1)})),changedEdges:u.map((function(e){return Zn(e.id,!1)})),get:t,set:e})},setMinZoom:function(n){var o=t(),r=o.d3Zoom,i=o.maxZoom;null===r||void 0===r||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:function(n){var o=t(),r=o.d3Zoom,i=o.minZoom;null===r||void 0===r||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:function(n){var o;null===(o=t().d3Zoom)||void 0===o||o.translateExtent(n),e({translateExtent:n})},resetSelectedElements:function(){var n=t(),o=n.edges;fn({changedNodes:(0,n.getNodes)().filter((function(e){return e.selected})).map((function(e){return Zn(e.id,!1)})),changedEdges:o.filter((function(e){return e.selected})).map((function(e){return Zn(e.id,!1)})),get:t,set:e})},setNodeExtent:function(n){var o=t().nodeInternals;o.forEach((function(e){e.positionAbsolute=W(e.position,n)})),e({nodeExtent:n,nodeInternals:new Map(o)})},panBy:function(e){var n=t(),o=n.transform,r=n.width,i=n.height,a=n.d3Zoom,l=n.d3Selection,u=n.translateExtent;if(a&&l&&(e.x||e.y)){var c=A.CR.translate(o[0]+e.x,o[1]+e.y).scale(o[2]),s=[[0,0],[r,i]],d=null===a||void 0===a?void 0:a.constrain()(c,s,u);a.transform(l,d)}},cancelConnection:function(){return e({connectionNodeId:ao.connectionNodeId,connectionHandleId:ao.connectionHandleId,connectionHandleType:ao.connectionHandleType,connectionStatus:ao.connectionStatus,connectionStartHandle:ao.connectionStartHandle,connectionEndHandle:ao.connectionEndHandle})},reset:function(){return e((0,l.Z)({},ao))}})}))),(0,c.jsx)(B,{value:n.current,children:t})};lo.displayName="ReactFlowProvider";var uo=function(e){var t=e.children;return(0,s.useContext)(R)?(0,c.jsx)(c.Fragment,{children:t}):(0,c.jsx)(lo,{children:t})};function co(e,t){(0,s.useRef)(null);return(0,s.useMemo)((function(){return t(e)}),[e])}uo.displayName="ReactFlowWrapper";var so={input:ct,default:lt,output:dt,group:ft},fo={default:Re,straight:Oe,step:Ae,smoothstep:Pe,simplebezier:_e},ho=[0,0],vo=[15,15],go={x:0,y:0,zoom:1},po={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},mo=(0,s.forwardRef)((function(e,t){var n=e.nodes,o=e.edges,r=e.defaultNodes,i=e.defaultEdges,a=e.className,s=e.nodeTypes,f=void 0===s?so:s,h=e.edgeTypes,v=void 0===h?fo:h,g=e.onNodeClick,p=e.onEdgeClick,m=e.onInit,y=e.onMove,b=e.onMoveStart,x=e.onMoveEnd,w=e.onConnect,S=e.onConnectStart,E=e.onConnectEnd,C=e.onClickConnectStart,_=e.onClickConnectEnd,N=e.onNodeMouseEnter,M=e.onNodeMouseMove,k=e.onNodeMouseLeave,Z=e.onNodeContextMenu,P=e.onNodeDoubleClick,A=e.onNodeDragStart,O=e.onNodeDrag,D=e.onNodeDragStop,I=e.onNodesDelete,R=e.onEdgesDelete,B=e.onSelectionChange,j=e.onSelectionDragStart,T=e.onSelectionDrag,X=e.onSelectionDragStop,L=e.onSelectionContextMenu,Y=e.onSelectionStart,H=e.onSelectionEnd,K=e.connectionMode,U=void 0===K?ve.Strict:K,F=e.connectionLineType,W=void 0===F?me.Bezier:F,q=e.connectionLineStyle,G=e.connectionLineComponent,$=e.connectionLineContainerStyle,Q=e.deleteKeyCode,J=void 0===Q?"Backspace":Q,ee=e.selectionKeyCode,te=void 0===ee?"Shift":ee,ne=e.selectionOnDrag,oe=void 0!==ne&&ne,re=e.selectionMode,ie=void 0===re?pe.Full:re,ae=e.panActivationKeyCode,le=void 0===ae?"Space":ae,ue=e.multiSelectionKeyCode,ce=void 0===ue?"Meta":ue,se=e.zoomActivationKeyCode,de=void 0===se?"Meta":se,fe=e.snapToGrid,he=void 0!==fe&&fe,ye=e.snapGrid,be=void 0===ye?vo:ye,xe=e.onlyRenderVisibleElements,we=void 0!==xe&&xe,Se=e.selectNodesOnDrag,Ee=void 0===Se||Se,Ce=e.nodesDraggable,_e=e.nodesConnectable,Ne=e.nodesFocusable,Me=e.nodeOrigin,ke=void 0===Me?ho:Me,Ze=e.edgesFocusable,Pe=e.edgesUpdatable,Ae=e.elementsSelectable,Oe=e.defaultViewport,De=void 0===Oe?go:Oe,Ie=e.minZoom,ze=void 0===Ie?.5:Ie,Re=e.maxZoom,Be=void 0===Re?2:Re,je=e.translateExtent,Te=void 0===je?io:je,Xe=e.preventScrolling,Le=void 0===Xe||Xe,Ye=e.nodeExtent,He=e.defaultMarkerColor,Ve=void 0===He?"#b1b1b7":He,Ke=e.zoomOnScroll,Ue=void 0===Ke||Ke,Fe=e.zoomOnPinch,We=void 0===Fe||Fe,qe=e.panOnScroll,Ge=void 0!==qe&&qe,$e=e.panOnScrollSpeed,Qe=void 0===$e?.5:$e,Je=e.panOnScrollMode,et=void 0===Je?ge.Free:Je,tt=e.zoomOnDoubleClick,nt=void 0===tt||tt,ot=e.panOnDrag,rt=void 0===ot||ot,it=e.onPaneClick,at=e.onPaneMouseEnter,lt=e.onPaneMouseMove,ut=e.onPaneMouseLeave,ct=e.onPaneScroll,st=e.onPaneContextMenu,dt=e.children,ft=e.onEdgeUpdate,ht=e.onEdgeContextMenu,vt=e.onEdgeDoubleClick,gt=e.onEdgeMouseEnter,pt=e.onEdgeMouseMove,mt=e.onEdgeMouseLeave,bt=e.onEdgeUpdateStart,xt=e.onEdgeUpdateEnd,wt=e.edgeUpdaterRadius,Et=void 0===wt?10:wt,Ct=e.onNodesChange,_t=e.onEdgesChange,Nt=e.noDragClassName,Mt=void 0===Nt?"nodrag":Nt,kt=e.noWheelClassName,Zt=void 0===kt?"nowheel":kt,At=e.noPanClassName,Ot=void 0===At?"nopan":At,Dt=e.fitView,It=void 0!==Dt&&Dt,zt=e.fitViewOptions,Rt=e.connectOnClick,jt=void 0===Rt||Rt,Tt=e.attributionPosition,Xt=e.proOptions,Lt=e.defaultEdgeOptions,Yt=e.elevateNodesOnSelect,Ht=void 0===Yt||Yt,Vt=e.elevateEdgesOnSelect,Kt=void 0!==Vt&&Vt,Ut=e.disableKeyboardA11y,Ft=void 0!==Ut&&Ut,Wt=e.autoPanOnConnect,qt=void 0===Wt||Wt,Gt=e.autoPanOnNodeDrag,$t=void 0===Gt||Gt,Qt=e.connectionRadius,Jt=void 0===Qt?20:Qt,tn=e.isValidConnection,nn=e.onError,on=e.style,rn=e.id,an=(0,u.Z)(e,z),ln=co(f,en),un=co(v,Bt),cn=rn||"1";return(0,c.jsx)("div",(0,l.Z)((0,l.Z)({},an),{},{style:(0,l.Z)((0,l.Z)({},on),po),ref:t,className:(0,d.Z)(["react-flow",a]),"data-testid":"rf__wrapper",id:rn,children:(0,c.jsxs)(uo,{children:[(0,c.jsx)(ro,{onInit:m,onMove:y,onMoveStart:b,onMoveEnd:x,onNodeClick:g,onEdgeClick:p,onNodeMouseEnter:N,onNodeMouseMove:M,onNodeMouseLeave:k,onNodeContextMenu:Z,onNodeDoubleClick:P,nodeTypes:ln,edgeTypes:un,connectionLineType:W,connectionLineStyle:q,connectionLineComponent:G,connectionLineContainerStyle:$,selectionKeyCode:te,selectionOnDrag:oe,selectionMode:ie,deleteKeyCode:J,multiSelectionKeyCode:ce,panActivationKeyCode:le,zoomActivationKeyCode:de,onlyRenderVisibleElements:we,selectNodesOnDrag:Ee,defaultViewport:De,translateExtent:Te,minZoom:ze,maxZoom:Be,preventScrolling:Le,zoomOnScroll:Ue,zoomOnPinch:We,zoomOnDoubleClick:nt,panOnScroll:Ge,panOnScrollSpeed:Qe,panOnScrollMode:et,panOnDrag:rt,onPaneClick:it,onPaneMouseEnter:at,onPaneMouseMove:lt,onPaneMouseLeave:ut,onPaneScroll:ct,onPaneContextMenu:st,onSelectionContextMenu:L,onSelectionStart:Y,onSelectionEnd:H,onEdgeUpdate:ft,onEdgeContextMenu:ht,onEdgeDoubleClick:vt,onEdgeMouseEnter:gt,onEdgeMouseMove:pt,onEdgeMouseLeave:mt,onEdgeUpdateStart:bt,onEdgeUpdateEnd:xt,edgeUpdaterRadius:Et,defaultMarkerColor:Ve,noDragClassName:Mt,noWheelClassName:Zt,noPanClassName:Ot,elevateEdgesOnSelect:Kt,rfId:cn,disableKeyboardA11y:Ft,nodeOrigin:ke,nodeExtent:Ye}),(0,c.jsx)(St,{nodes:n,edges:o,defaultNodes:r,defaultEdges:i,onConnect:w,onConnectStart:S,onConnectEnd:E,onClickConnectStart:C,onClickConnectEnd:_,nodesDraggable:Ce,nodesConnectable:_e,nodesFocusable:Ne,edgesFocusable:Ze,edgesUpdatable:Pe,elementsSelectable:Ae,elevateNodesOnSelect:Ht,minZoom:ze,maxZoom:Be,nodeExtent:Ye,onNodesChange:Ct,onEdgesChange:_t,snapToGrid:he,snapGrid:be,connectionMode:U,translateExtent:Te,connectOnClick:jt,defaultEdgeOptions:Lt,fitView:It,fitViewOptions:zt,onNodesDelete:I,onEdgesDelete:R,onNodeDragStart:A,onNodeDrag:O,onNodeDragStop:D,onSelectionDrag:T,onSelectionDragStart:j,onSelectionDragStop:X,noPanClassName:Ot,nodeOrigin:ke,rfId:cn,autoPanOnConnect:qt,autoPanOnNodeDrag:$t,onError:nn,connectionRadius:Jt,isValidConnection:tn}),(0,c.jsx)(yt,{onSelectionChange:B}),dt,(0,c.jsx)(V,{proOptions:Xt,position:Tt}),(0,c.jsx)(Pt,{rfId:cn,disableKeyboardA11y:Ft})]})}))}));mo.displayName="ReactFlow";function yo(e){return function(t){var n=(0,s.useState)(t),o=(0,i.Z)(n,2),r=o[0],a=o[1],l=(0,s.useCallback)((function(t){return a((function(n){return e(t,n)}))}),[]);return[r,a,l]}}yo(kn),yo((function(e,t){return Mn(e,t)}))},2502:function(e,t,n){n.d(t,{a:function(){return b}});var o=n(184),r=n(2791),i=n(5869),a=n(5848),l=n(8141),u=n(2988),c=n(4308),s=n(8749),d=function(e){var t=e.id,n=e.x,r=e.y,a=e.width,l=e.height,u=e.style,c=e.color,s=e.strokeColor,d=e.strokeWidth,f=e.className,h=e.borderRadius,v=e.shapeRendering,g=e.onClick,p=u||{},m=p.background,y=p.backgroundColor,b=c||m||y;return(0,o.jsx)("rect",{className:(0,i.Z)(["react-flow__minimap-node",f]),x:n,y:r,rx:h,ry:h,width:a,height:l,fill:b,stroke:s,strokeWidth:d,shapeRendering:v,onClick:g?function(e){return g(e,t)}:void 0})};d.displayName="MiniMapNode";var f=(0,r.memo)(d),h=200,v=150,g=function(e){var t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{nodes:t.filter((function(e){return!e.hidden&&e.width&&e.height})),viewBB:n,boundingRect:t.length>0?(0,s.oI)((0,s.YH)(t,e.nodeOrigin),n):n,rfId:e.rfId,nodeOrigin:e.nodeOrigin}},p=function(e){return e instanceof Function?e:function(){return e}},m="react-flow__minimap-desc";function y(e){var t,n,d=e.style,y=e.className,b=e.nodeStrokeColor,x=void 0===b?"transparent":b,w=e.nodeColor,S=void 0===w?"#e2e2e2":w,E=e.nodeClassName,C=void 0===E?"":E,_=e.nodeBorderRadius,N=void 0===_?5:_,M=e.nodeStrokeWidth,k=void 0===M?2:M,Z=e.nodeComponent,P=void 0===Z?f:Z,A=e.maskColor,O=void 0===A?"rgb(240, 240, 240, 0.6)":A,D=e.maskStrokeColor,I=void 0===D?"none":D,z=e.maskStrokeWidth,R=void 0===z?1:z,B=e.position,j=void 0===B?"bottom-right":B,T=e.onClick,X=e.onNodeClick,L=e.pannable,Y=void 0!==L&&L,H=e.zoomable,V=void 0!==H&&H,K=e.ariaLabel,U=void 0===K?"React Flow mini map":K,F=e.inversePan,W=void 0!==F&&F,q=e.zoomStep,G=void 0===q?10:q,$=(0,s.AC)(),Q=(0,r.useRef)(null),J=(0,s.oR)(g,a.X),ee=J.boundingRect,te=J.viewBB,ne=J.nodes,oe=J.rfId,re=J.nodeOrigin,ie=null!==(t=null===d||void 0===d?void 0:d.width)&&void 0!==t?t:h,ae=null!==(n=null===d||void 0===d?void 0:d.height)&&void 0!==n?n:v,le=p(S),ue=p(x),ce=p(C),se=ee.width/ie,de=ee.height/ae,fe=Math.max(se,de),he=fe*ie,ve=fe*ae,ge=5*fe,pe=ee.x-(he-ee.width)/2-ge,me=ee.y-(ve-ee.height)/2-ge,ye=he+2*ge,be=ve+2*ge,xe="undefined"===typeof window||window.chrome?"crispEdges":"geometricPrecision",we="".concat(m,"-").concat(oe),Se=(0,r.useRef)(0);Se.current=fe,(0,r.useEffect)((function(){if(Q.current){var e=(0,u.Z)(Q.current),t=(0,l.sP)().on("zoom",Y?function(e){var t=$.getState(),n=t.transform,o=t.d3Selection,r=t.d3Zoom,i=t.translateExtent,a=t.width,u=t.height;if("mousemove"===e.sourceEvent.type&&o&&r){var c=Se.current*Math.max(1,n[2])*(W?-1:1),s={x:n[0]-e.sourceEvent.movementX*c,y:n[1]-e.sourceEvent.movementY*c},d=[[0,0],[a,u]],f=l.CR.translate(s.x,s.y).scale(n[2]),h=r.constrain()(f,d,i);r.transform(o,h)}}:null).on("zoom.wheel",V?function(e){var t=$.getState(),n=t.transform,o=t.d3Selection,r=t.d3Zoom;if("wheel"===e.sourceEvent.type&&o&&r){var i=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*G,a=n[2]*Math.pow(2,i);r.scaleTo(o,a)}}:null);return e.call(t),function(){e.on("zoom",null)}}}),[Y,V,W,G]);var Ee=T?function(e){var t=(0,c.Z)(e);T(e,{x:t[0],y:t[1]})}:void 0,Ce=X?function(e,t){var n=$.getState().nodeInternals.get(t);X(e,n)}:void 0;return(0,o.jsx)(s.s_,{position:j,style:d,className:(0,i.Z)(["react-flow__minimap",y]),"data-testid":"rf__minimap",children:(0,o.jsxs)("svg",{width:ie,height:ae,viewBox:"".concat(pe," ").concat(me," ").concat(ye," ").concat(be),role:"img","aria-labelledby":we,ref:Q,onClick:Ee,children:[U&&(0,o.jsx)("title",{id:we,children:U}),ne.map((function(e){var t=(0,s.VP)(e,re).positionAbsolute,n=t.x,r=t.y;return(0,o.jsx)(P,{x:n,y:r,width:e.width,height:e.height,style:e.style,className:ce(e),color:le(e),borderRadius:N,strokeColor:ue(e),strokeWidth:k,shapeRendering:xe,onClick:Ce,id:e.id},e.id)})),(0,o.jsx)("path",{className:"react-flow__minimap-mask",d:"M".concat(pe-ge,",").concat(me-ge,"h").concat(ye+2*ge,"v").concat(be+2*ge,"h").concat(-ye-2*ge,"z\n        M").concat(te.x,",").concat(te.y,"h").concat(te.width,"v").concat(te.height,"h").concat(-te.width,"z"),fill:O,fillRule:"evenodd",stroke:I,strokeWidth:R,pointerEvents:"none"})]})})}y.displayName="MiniMap";var b=(0,r.memo)(y)},8107:function(){},5869:function(e,t,n){function o(e){if("string"===typeof e||"number"===typeof e)return""+e;var t="";if(Array.isArray(e))for(var n,r=0;r<e.length;r++)""!==(n=o(e[r]))&&(t+=(t&&" ")+n);else for(var i in e)e[i]&&(t+=(t&&" ")+i);return t}n.d(t,{Z:function(){return o}})},6383:function(e,t){var n={value:function(){}};function o(){for(var e,t=0,n=arguments.length,o={};t<n;++t){if(!(e=arguments[t]+"")||e in o||/[\s.]/.test(e))throw new Error("illegal type: "+e);o[e]=[]}return new r(o)}function r(e){this._=e}function i(e,t){for(var n,o=0,r=e.length;o<r;++o)if((n=e[o]).name===t)return n.value}function a(e,t,o){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=n,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=o&&e.push({name:t,value:o}),e}r.prototype=o.prototype={constructor:r,on:function(e,t){var n,o,r=this._,l=(o=r,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!o.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),u=-1,c=l.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++u<c;)if(n=(e=l[u]).type)r[n]=a(r[n],e.name,t);else if(null==t)for(n in r)r[n]=a(r[n],e.name,null);return this}for(;++u<c;)if((n=(e=l[u]).type)&&(n=i(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new r(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,o,r=new Array(n),i=0;i<n;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(o=this._[e]).length;i<n;++i)o[i].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)}},t.Z=o},6890:function(e,t,n){n.d(t,{D:function(){return a},Z:function(){return i}});var o=n(2988),r=n(4085);function i(e){var t=e.document.documentElement,n=(0,o.Z)(e).on("dragstart.drag",r.ZP,r.Dd);"onselectstart"in t?n.on("selectstart.drag",r.ZP,r.Dd):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function a(e,t){var n=e.document.documentElement,i=(0,o.Z)(e).on("dragstart.drag",null);t&&(i.on("click.drag",r.ZP,r.Dd),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}},4085:function(e,t,n){n.d(t,{Dd:function(){return r},Q7:function(){return o},ZP:function(){return a},rG:function(){return i}});var o={passive:!1},r={capture:!0,passive:!1};function i(e){e.stopImmediatePropagation()}function a(e){e.preventDefault(),e.stopImmediatePropagation()}},5487:function(e,t,n){function o(e){return function(){return this.matches(e)}}function r(e){return function(t){return t.matches(e)}}n.d(t,{P:function(){return r},Z:function(){return o}})},7351:function(e,t,n){n.d(t,{Z:function(){return r}});var o=n(5921);function r(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),o.Z.hasOwnProperty(t)?{space:o.Z[t],local:e}:e}},5921:function(e,t,n){n.d(t,{P:function(){return o}});var o="http://www.w3.org/1999/xhtml";t.Z={svg:"http://www.w3.org/2000/svg",xhtml:o,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},4308:function(e,t,n){function o(e,t){if(e=function(e){for(var t;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,[(o=o.matrixTransform(t.getScreenCTM().inverse())).x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}n.d(t,{Z:function(){return o}})},2988:function(e,t,n){n.d(t,{Z:function(){return r}});var o=n(6659);function r(e){return"string"===typeof e?new o.Y1([[document.querySelector(e)]],[document.documentElement]):new o.Y1([[e]],o.Jz)}},6659:function(e,t,n){n.d(t,{Y1:function(){return de},ZP:function(){return he},Jz:function(){return se}});var o=n(4942),r=n(9995);var i=n(3910);function a(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}var l=n(5487),u=Array.prototype.find;function c(){return this.firstElementChild}var s=Array.prototype.filter;function d(){return Array.from(this.children)}function f(e){return new Array(e.length)}function h(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function v(e,t,n,o,r,i){for(var a,l=0,u=t.length,c=i.length;l<c;++l)(a=t[l])?(a.__data__=i[l],o[l]=a):n[l]=new h(e,i[l]);for(;l<u;++l)(a=t[l])&&(r[l]=a)}function g(e,t,n,o,r,i,a){var l,u,c,s=new Map,d=t.length,f=i.length,v=new Array(d);for(l=0;l<d;++l)(u=t[l])&&(v[l]=c=a.call(u,u.__data__,l,t)+"",s.has(c)?r[l]=u:s.set(c,u));for(l=0;l<f;++l)c=a.call(e,i[l],l,i)+"",(u=s.get(c))?(o[l]=u,u.__data__=i[l],s.delete(c)):n[l]=new h(e,i[l]);for(l=0;l<d;++l)(u=t[l])&&s.get(v[l])===u&&(r[l]=u)}function p(e){return e.__data__}function m(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function y(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}h.prototype={constructor:h,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var b=n(7762);var x=n(7351);function w(e){return function(){this.removeAttribute(e)}}function S(e){return function(){this.removeAttributeNS(e.space,e.local)}}function E(e,t){return function(){this.setAttribute(e,t)}}function C(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function _(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function N(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var M=n(6255);function k(e){return function(){delete this[e]}}function Z(e,t){return function(){this[e]=t}}function P(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function A(e){return e.trim().split(/^|\s+/)}function O(e){return e.classList||new D(e)}function D(e){this._node=e,this._names=A(e.getAttribute("class")||"")}function I(e,t){for(var n=O(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function z(e,t){for(var n=O(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function R(e){return function(){I(this,e)}}function B(e){return function(){z(this,e)}}function j(e,t){return function(){(t.apply(this,arguments)?I:z)(this,e)}}function T(){this.textContent=""}function X(e){return function(){this.textContent=e}}function L(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Y(){this.innerHTML=""}function H(e){return function(){this.innerHTML=e}}function V(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function K(){this.nextSibling&&this.parentNode.appendChild(this)}function U(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}D.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var F=n(5921);function W(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===F.P&&t.documentElement.namespaceURI===F.P?t.createElement(e):t.createElementNS(n,e)}}function q(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function G(e){var t=(0,x.Z)(e);return(t.local?q:W)(t)}function $(){return null}function Q(){var e=this.parentNode;e&&e.removeChild(this)}function J(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ee(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function te(e){return function(){var t=this.__on;if(t){for(var n,o=0,r=-1,i=t.length;o<i;++o)n=t[o],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?t.length=r:delete this.__on}}}function ne(e,t,n){return function(){var o,r=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(r)for(var a=0,l=r.length;a<l;++a)if((o=r[a]).type===e.type&&o.name===e.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),void(o.value=t);this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}var oe=n(7140);function re(e,t,n){var o=(0,oe.Z)(e),r=o.CustomEvent;"function"===typeof r?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function ie(e,t){return function(){return re(this,e,t)}}function ae(e,t){return function(){return re(this,e,t.apply(this,arguments))}}var le=n(4165),ue=(0,le.Z)().mark(ce);function ce(){var e,t,n,o,r,i,a;return(0,le.Z)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:e=this._groups,t=0,n=e.length;case 1:if(!(t<n)){l.next=13;break}o=e[t],r=0,i=o.length;case 3:if(!(r<i)){l.next=10;break}if(!(a=o[r])){l.next=7;break}return l.next=7,a;case 7:++r,l.next=3;break;case 10:++t,l.next=1;break;case 13:case"end":return l.stop()}}),ue,this)}var se=[null];function de(e,t){this._groups=e,this._parents=t}function fe(){return new de([[document.documentElement]],se)}de.prototype=fe.prototype=(0,o.Z)({constructor:de,select:function(e){"function"!==typeof e&&(e=(0,r.Z)(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var a,l,u=t[i],c=u.length,s=o[i]=new Array(c),d=0;d<c;++d)(a=u[d])&&(l=e.call(a,a.__data__,d,u))&&("__data__"in a&&(l.__data__=a.__data__),s[d]=l);return new de(o,this._parents)},selectAll:function(e){e="function"===typeof e?a(e):(0,i.Z)(e);for(var t=this._groups,n=t.length,o=[],r=[],l=0;l<n;++l)for(var u,c=t[l],s=c.length,d=0;d<s;++d)(u=c[d])&&(o.push(e.call(u,u.__data__,d,c)),r.push(u));return new de(o,r)},selectChild:function(e){return this.select(null==e?c:function(e){return function(){return u.call(this.children,e)}}("function"===typeof e?e:(0,l.P)(e)))},selectChildren:function(e){return this.selectAll(null==e?d:function(e){return function(){return s.call(this.children,e)}}("function"===typeof e?e:(0,l.P)(e)))},filter:function(e){"function"!==typeof e&&(e=(0,l.Z)(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i,a=t[r],u=a.length,c=o[r]=[],s=0;s<u;++s)(i=a[s])&&e.call(i,i.__data__,s,a)&&c.push(i);return new de(o,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,p);var n,o=t?g:v,r=this._parents,i=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var a=i.length,l=new Array(a),u=new Array(a),c=new Array(a),s=0;s<a;++s){var d=r[s],f=i[s],h=f.length,y=m(e.call(d,d&&d.__data__,s,r)),b=y.length,x=u[s]=new Array(b),w=l[s]=new Array(b);o(d,f,x,w,c[s]=new Array(h),y,t);for(var S,E,C=0,_=0;C<b;++C)if(S=x[C]){for(C>=_&&(_=C+1);!(E=w[_])&&++_<b;);S._next=E||null}}return(l=new de(l,r))._enter=u,l._exit=c,l},enter:function(){return new de(this._enter||this._groups.map(f),this._parents)},exit:function(){return new de(this._exit||this._groups.map(f),this._parents)},join:function(e,t,n){var o=this.enter(),r=this,i=this.exit();return"function"===typeof e?(o=e(o))&&(o=o.selection()):o=o.append(e+""),null!=t&&(r=t(r))&&(r=r.selection()),null==n?i.remove():n(i),o&&r?o.merge(r).order():r},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,i=o.length,a=Math.min(r,i),l=new Array(r),u=0;u<a;++u)for(var c,s=n[u],d=o[u],f=s.length,h=l[u]=new Array(f),v=0;v<f;++v)(c=s[v]||d[v])&&(h[v]=c);for(;u<r;++u)l[u]=n[u];return new de(l,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o,r=e[t],i=r.length-1,a=r[i];--i>=0;)(o=r[i])&&(a&&4^o.compareDocumentPosition(a)&&a.parentNode.insertBefore(o,a),a=o);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=y);for(var n=this._groups,o=n.length,r=new Array(o),i=0;i<o;++i){for(var a,l=n[i],u=l.length,c=r[i]=new Array(u),s=0;s<u;++s)(a=l[s])&&(c[s]=a);c.sort(t)}return new de(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length;r<i;++r){var a=o[r];if(a)return a}return null},size:function(){var e,t=0,n=(0,b.Z)(this);try{for(n.s();!(e=n.n()).done;){e.value;++t}}catch(o){n.e(o)}finally{n.f()}return t},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r,i=t[n],a=0,l=i.length;a<l;++a)(r=i[a])&&e.call(r,r.__data__,a,i);return this},attr:function(e,t){var n=(0,x.Z)(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((null==t?n.local?S:w:"function"===typeof t?n.local?N:_:n.local?C:E)(n,t))},style:M.Z,property:function(e,t){return arguments.length>1?this.each((null==t?k:"function"===typeof t?P:Z)(e,t)):this.node()[e]},classed:function(e,t){var n=A(e+"");if(arguments.length<2){for(var o=O(this.node()),r=-1,i=n.length;++r<i;)if(!o.contains(n[r]))return!1;return!0}return this.each(("function"===typeof t?j:t?R:B)(n,t))},text:function(e){return arguments.length?this.each(null==e?T:("function"===typeof e?L:X)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Y:("function"===typeof e?V:H)(e)):this.node().innerHTML},raise:function(){return this.each(K)},lower:function(){return this.each(U)},append:function(e){var t="function"===typeof e?e:G(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:G(e),o=null==t?$:"function"===typeof t?t:(0,r.Z)(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)}))},remove:function(){return this.each(Q)},clone:function(e){return this.select(e?ee:J)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var o,r,i=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),a=i.length;if(!(arguments.length<2)){for(l=t?ne:te,o=0;o<a;++o)this.each(l(i[o],t,n));return this}var l=this.node().__on;if(l)for(var u,c=0,s=l.length;c<s;++c)for(o=0,u=l[c];o<a;++o)if((r=i[o]).type===u.type&&r.name===u.name)return u.value},dispatch:function(e,t){return this.each(("function"===typeof t?ae:ie)(e,t))}},Symbol.iterator,ce);var he=fe},6255:function(e,t,n){n.d(t,{S:function(){return u},Z:function(){return l}});var o=n(7140);function r(e){return function(){this.style.removeProperty(e)}}function i(e,t,n){return function(){this.style.setProperty(e,t,n)}}function a(e,t,n){return function(){var o=t.apply(this,arguments);null==o?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function l(e,t,n){return arguments.length>1?this.each((null==t?r:"function"===typeof t?a:i)(e,t,null==n?"":n)):u(this.node(),e)}function u(e,t){return e.style.getPropertyValue(t)||(0,o.Z)(e).getComputedStyle(e,null).getPropertyValue(t)}},9995:function(e,t,n){function o(){}function r(e){return null==e?o:function(){return this.querySelector(e)}}n.d(t,{Z:function(){return r}})},3910:function(e,t,n){function o(){return[]}function r(e){return null==e?o:function(){return this.querySelectorAll(e)}}n.d(t,{Z:function(){return r}})},7140:function(e,t,n){function o(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}n.d(t,{Z:function(){return o}})},8141:function(e,t,n){n.d(t,{sP:function(){return Zt},CR:function(){return xt}});var o=n(6383),r=n(6890);function i(e){return((e=Math.exp(e))+1/e)/2}var a,l,u=function e(t,n,o){function r(e,r){var a,l,u=e[0],c=e[1],s=e[2],d=r[0],f=r[1],h=r[2],v=d-u,g=f-c,p=v*v+g*g;if(p<1e-12)l=Math.log(h/s)/t,a=function(e){return[u+e*v,c+e*g,s*Math.exp(t*e*l)]};else{var m=Math.sqrt(p),y=(h*h-s*s+o*p)/(2*s*n*m),b=(h*h-s*s-o*p)/(2*h*n*m),x=Math.log(Math.sqrt(y*y+1)-y),w=Math.log(Math.sqrt(b*b+1)-b);l=(w-x)/t,a=function(e){var o,r=e*l,a=i(x),d=s/(n*m)*(a*(o=t*r+x,((o=Math.exp(2*o))-1)/(o+1))-function(e){return((e=Math.exp(e))-1/e)/2}(x));return[u+d*v,c+d*g,s*a/i(t*r+x)]}}return a.duration=1e3*l*t/Math.SQRT2,a}return r.rho=function(t){var n=Math.max(.001,+t),o=n*n;return e(n,o,o*o)},r}(Math.SQRT2,2,4),c=n(2988),s=n(4308),d=n(6659),f=0,h=0,v=0,g=1e3,p=0,m=0,y=0,b="object"===typeof performance&&performance.now?performance:Date,x="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function w(){return m||(x(S),m=b.now()+y)}function S(){m=0}function E(){this._call=this._time=this._next=null}function C(e,t,n){var o=new E;return o.restart(e,t,n),o}function _(){m=(p=b.now())+y,f=h=0;try{!function(){w(),++f;for(var e,t=a;t;)(e=m-t._time)>=0&&t._call.call(void 0,e),t=t._next;--f}()}finally{f=0,function(){var e,t,n=a,o=1/0;for(;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:a=t);l=e,M(o)}(),m=0}}function N(){var e=b.now(),t=e-p;t>g&&(y-=t,p=e)}function M(e){f||(h&&(h=clearTimeout(h)),e-m>24?(e<1/0&&(h=setTimeout(_,e-b.now()-y)),v&&(v=clearInterval(v))):(v||(p=b.now(),v=setInterval(N,g)),f=1,x(_)))}function k(e,t,n){var o=new E;return t=null==t?0:+t,o.restart((function(n){o.stop(),e(n+t)}),t,n),o}E.prototype=C.prototype={constructor:E,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?w():+n)+(null==t?0:+t),this._next||l===this||(l?l._next=this:a=this,l=this),this._call=e,this._time=n,M()},stop:function(){this._call&&(this._call=null,this._time=1/0,M())}};var Z=(0,o.Z)("start","end","cancel","interrupt"),P=[],A=0,O=1,D=2,I=3,z=4,R=5,B=6;function j(e,t,n,o,r,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var o,r=e.__transition;function i(e){n.state=O,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(i){var c,s,d,f;if(n.state!==O)return u();for(c in r)if((f=r[c]).name===n.name){if(f.state===I)return k(a);f.state===z?(f.state=B,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete r[c]):+c<t&&(f.state=B,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete r[c])}if(k((function(){n.state===I&&(n.state=z,n.timer.restart(l,n.delay,n.time),l(i))})),n.state=D,n.on.call("start",e,e.__data__,n.index,n.group),n.state===D){for(n.state=I,o=new Array(d=n.tween.length),c=0,s=-1;c<d;++c)(f=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++s]=f);o.length=s+1}}function l(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(u),n.state=R,1),i=-1,a=o.length;++i<a;)o[i].call(e,r);n.state===R&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){for(var o in n.state=B,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=C(i,0,n.time)}(e,n,{name:t,index:o,group:r,on:Z,tween:P,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:A})}function T(e,t){var n=L(e,t);if(n.state>A)throw new Error("too late; already scheduled");return n}function X(e,t){var n=L(e,t);if(n.state>I)throw new Error("too late; already running");return n}function L(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Y(e,t){var n,o,r,i=e.__transition,a=!0;if(i){for(r in t=null==t?null:t+"",i)(n=i[r]).name===t?(o=n.state>D&&n.state<R,n.state=B,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[r]):a=!1;a&&delete e.__transition}}var H=n(4942);function V(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var K,U=180/Math.PI,F={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function W(e,t,n,o,r,i){var a,l,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*o)&&(n-=e*u,o-=t*u),(l=Math.sqrt(n*n+o*o))&&(n/=l,o/=l,u/=l),e*o<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*U,skewX:Math.atan(u)*U,scaleX:a,scaleY:l}}function q(e,t,n,o){function r(e){return e.length?e.pop()+" ":""}return function(i,a){var l=[],u=[];return i=e(i),a=e(a),function(e,o,r,i,a,l){if(e!==r||o!==i){var u=a.push("translate(",null,t,null,n);l.push({i:u-4,x:V(e,r)},{i:u-2,x:V(o,i)})}else(r||i)&&a.push("translate("+r+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,l,u),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(r(n)+"rotate(",null,o)-2,x:V(e,t)})):t&&n.push(r(n)+"rotate("+t+o)}(i.rotate,a.rotate,l,u),function(e,t,n,i){e!==t?i.push({i:n.push(r(n)+"skewX(",null,o)-2,x:V(e,t)}):t&&n.push(r(n)+"skewX("+t+o)}(i.skewX,a.skewX,l,u),function(e,t,n,o,i,a){if(e!==n||t!==o){var l=i.push(r(i)+"scale(",null,",",null,")");a.push({i:l-4,x:V(e,n)},{i:l-2,x:V(t,o)})}else 1===n&&1===o||i.push(r(i)+"scale("+n+","+o+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,l,u),i=a=null,function(e){for(var t,n=-1,o=u.length;++n<o;)l[(t=u[n]).i]=t.x(e);return l.join("")}}}var G=q((function(e){var t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?F:W(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),$=q((function(e){return null==e?F:(K||(K=document.createElementNS("http://www.w3.org/2000/svg","g")),K.setAttribute("transform",e),(e=K.transform.baseVal.consolidate())?W((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):F)}),", ",")",")"),Q=n(7351);function J(e,t){var n,o;return function(){var r=X(this,e),i=r.tween;if(i!==n)for(var a=0,l=(o=n=i).length;a<l;++a)if(o[a].name===t){(o=o.slice()).splice(a,1);break}r.tween=o}}function ee(e,t,n){var o,r;if("function"!==typeof n)throw new Error;return function(){var i=X(this,e),a=i.tween;if(a!==o){r=(o=a).slice();for(var l={name:t,value:n},u=0,c=r.length;u<c;++u)if(r[u].name===t){r[u]=l;break}u===c&&r.push(l)}i.tween=r}}function te(e,t,n){var o=e._id;return e.each((function(){var e=X(this,o);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return L(e,o).value[t]}}function ne(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function oe(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function re(){}var ie=.7,ae=1/ie,le="\\s*([+-]?\\d+)\\s*",ue="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ce="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",se=/^#([0-9a-f]{3,8})$/,de=new RegExp("^rgb\\(".concat(le,",").concat(le,",").concat(le,"\\)$")),fe=new RegExp("^rgb\\(".concat(ce,",").concat(ce,",").concat(ce,"\\)$")),he=new RegExp("^rgba\\(".concat(le,",").concat(le,",").concat(le,",").concat(ue,"\\)$")),ve=new RegExp("^rgba\\(".concat(ce,",").concat(ce,",").concat(ce,",").concat(ue,"\\)$")),ge=new RegExp("^hsl\\(".concat(ue,",").concat(ce,",").concat(ce,"\\)$")),pe=new RegExp("^hsla\\(".concat(ue,",").concat(ce,",").concat(ce,",").concat(ue,"\\)$")),me={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ye(){return this.rgb().formatHex()}function be(){return this.rgb().formatRgb()}function xe(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=se.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?we(t):3===n?new Ce(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Se(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Se(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=de.exec(e))?new Ce(t[1],t[2],t[3],1):(t=fe.exec(e))?new Ce(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=he.exec(e))?Se(t[1],t[2],t[3],t[4]):(t=ve.exec(e))?Se(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ge.exec(e))?Pe(t[1],t[2]/100,t[3]/100,1):(t=pe.exec(e))?Pe(t[1],t[2]/100,t[3]/100,t[4]):me.hasOwnProperty(e)?we(me[e]):"transparent"===e?new Ce(NaN,NaN,NaN,0):null}function we(e){return new Ce(e>>16&255,e>>8&255,255&e,1)}function Se(e,t,n,o){return o<=0&&(e=t=n=NaN),new Ce(e,t,n,o)}function Ee(e,t,n,o){return 1===arguments.length?((r=e)instanceof re||(r=xe(r)),r?new Ce((r=r.rgb()).r,r.g,r.b,r.opacity):new Ce):new Ce(e,t,n,null==o?1:o);var r}function Ce(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}function _e(){return"#".concat(Ze(this.r)).concat(Ze(this.g)).concat(Ze(this.b))}function Ne(){var e=Me(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(ke(this.r),", ").concat(ke(this.g),", ").concat(ke(this.b)).concat(1===e?")":", ".concat(e,")"))}function Me(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ke(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ze(e){return((e=ke(e))<16?"0":"")+e.toString(16)}function Pe(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Oe(e,t,n,o)}function Ae(e){if(e instanceof Oe)return new Oe(e.h,e.s,e.l,e.opacity);if(e instanceof re||(e=xe(e)),!e)return new Oe;if(e instanceof Oe)return e;var t=(e=e.rgb()).r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),i=Math.max(t,n,o),a=NaN,l=i-r,u=(i+r)/2;return l?(a=t===i?(n-o)/l+6*(n<o):n===i?(o-t)/l+2:(t-n)/l+4,l/=u<.5?i+r:2-i-r,a*=60):l=u>0&&u<1?0:a,new Oe(a,l,u,e.opacity)}function Oe(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}function De(e){return(e=(e||0)%360)<0?e+360:e}function Ie(e){return Math.max(0,Math.min(1,e||0))}function ze(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Re(e,t,n,o,r){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*o+a*r)/6}ne(re,xe,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:ye,formatHex:ye,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Ae(this).formatHsl()},formatRgb:be,toString:be}),ne(Ce,Ee,oe(re,{brighter:function(e){return e=null==e?ae:Math.pow(ae,e),new Ce(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?ie:Math.pow(ie,e),new Ce(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},clamp:function(){return new Ce(ke(this.r),ke(this.g),ke(this.b),Me(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_e,formatHex:_e,formatHex8:function(){return"#".concat(Ze(this.r)).concat(Ze(this.g)).concat(Ze(this.b)).concat(Ze(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Ne,toString:Ne})),ne(Oe,(function(e,t,n,o){return 1===arguments.length?Ae(e):new Oe(e,t,n,null==o?1:o)}),oe(re,{brighter:function(e){return e=null==e?ae:Math.pow(ae,e),new Oe(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?ie:Math.pow(ie,e),new Oe(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new Ce(ze(e>=240?e-240:e+120,r,o),ze(e,r,o),ze(e<120?e+240:e-120,r,o),this.opacity)},clamp:function(){return new Oe(De(this.h),Ie(this.s),Ie(this.l),Me(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=Me(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(De(this.h),", ").concat(100*Ie(this.s),"%, ").concat(100*Ie(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));var Be=function(e){return function(){return e}};function je(e,t){return function(n){return e+n*t}}function Te(e){return 1===(e=+e)?Xe:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}(t,n,e):Be(isNaN(t)?n:t)}}function Xe(e,t){var n=t-e;return n?je(e,n):Be(isNaN(e)?t:e)}var Le=function e(t){var n=Te(t);function o(e,t){var o=n((e=Ee(e)).r,(t=Ee(t)).r),r=n(e.g,t.g),i=n(e.b,t.b),a=Xe(e.opacity,t.opacity);return function(t){return e.r=o(t),e.g=r(t),e.b=i(t),e.opacity=a(t),e+""}}return o.gamma=e,o}(1);function Ye(e){return function(t){var n,o,r=t.length,i=new Array(r),a=new Array(r),l=new Array(r);for(n=0;n<r;++n)o=Ee(t[n]),i[n]=o.r||0,a[n]=o.g||0,l[n]=o.b||0;return i=e(i),a=e(a),l=e(l),o.opacity=1,function(e){return o.r=i(e),o.g=a(e),o.b=l(e),o+""}}}Ye((function(e){var t=e.length-1;return function(n){var o=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[o],i=e[o+1],a=o>0?e[o-1]:2*r-i,l=o<t-1?e[o+2]:2*i-r;return Re((n-o/t)*t,a,r,i,l)}})),Ye((function(e){var t=e.length;return function(n){var o=Math.floor(((n%=1)<0?++n:n)*t),r=e[(o+t-1)%t],i=e[o%t],a=e[(o+1)%t],l=e[(o+2)%t];return Re((n-o/t)*t,r,i,a,l)}}));var He=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ve=new RegExp(He.source,"g");function Ke(e,t){var n,o,r,i=He.lastIndex=Ve.lastIndex=0,a=-1,l=[],u=[];for(e+="",t+="";(n=He.exec(e))&&(o=Ve.exec(t));)(r=o.index)>i&&(r=t.slice(i,r),l[a]?l[a]+=r:l[++a]=r),(n=n[0])===(o=o[0])?l[a]?l[a]+=o:l[++a]=o:(l[++a]=null,u.push({i:a,x:V(n,o)})),i=Ve.lastIndex;return i<t.length&&(r=t.slice(i),l[a]?l[a]+=r:l[++a]=r),l.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,o=0;o<t;++o)l[(n=u[o]).i]=n.x(e);return l.join("")})}function Ue(e,t){var n;return("number"===typeof t?V:t instanceof xe?Le:(n=xe(t))?(t=n,Le):Ke)(e,t)}function Fe(e){return function(){this.removeAttribute(e)}}function We(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qe(e,t,n){var o,r,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===o?r:r=t(o=a,n)}}function Ge(e,t,n){var o,r,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===o?r:r=t(o=a,n)}}function $e(e,t,n){var o,r,i;return function(){var a,l,u=n(this);if(null!=u)return(a=this.getAttribute(e))===(l=u+"")?null:a===o&&l===r?i:(r=l,i=t(o=a,u));this.removeAttribute(e)}}function Qe(e,t,n){var o,r,i;return function(){var a,l,u=n(this);if(null!=u)return(a=this.getAttributeNS(e.space,e.local))===(l=u+"")?null:a===o&&l===r?i:(r=l,i=t(o=a,u));this.removeAttributeNS(e.space,e.local)}}function Je(e,t){var n,o;function r(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,r)),n}return r._value=t,r}function et(e,t){var n,o;function r(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,r)),n}return r._value=t,r}function tt(e,t){return function(){T(this,e).delay=+t.apply(this,arguments)}}function nt(e,t){return t=+t,function(){T(this,e).delay=t}}function ot(e,t){return function(){X(this,e).duration=+t.apply(this,arguments)}}function rt(e,t){return t=+t,function(){X(this,e).duration=t}}var it=n(5487);var at=n(9995);var lt=n(3910);var ut=d.ZP.prototype.constructor;var ct=n(6255);function st(e){return function(){this.style.removeProperty(e)}}var dt=0;function ft(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function ht(){return++dt}var vt=d.ZP.prototype;ft.prototype=function(e){return(0,d.ZP)().transition(e)}.prototype=(0,H.Z)({constructor:ft,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=(0,at.Z)(e));for(var o=this._groups,r=o.length,i=new Array(r),a=0;a<r;++a)for(var l,u,c=o[a],s=c.length,d=i[a]=new Array(s),f=0;f<s;++f)(l=c[f])&&(u=e.call(l,l.__data__,f,c))&&("__data__"in l&&(u.__data__=l.__data__),d[f]=u,j(d[f],t,n,f,d,L(l,n)));return new ft(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=(0,lt.Z)(e));for(var o=this._groups,r=o.length,i=[],a=[],l=0;l<r;++l)for(var u,c=o[l],s=c.length,d=0;d<s;++d)if(u=c[d]){for(var f,h=e.call(u,u.__data__,d,c),v=L(u,n),g=0,p=h.length;g<p;++g)(f=h[g])&&j(f,t,n,g,h,v);i.push(h),a.push(u)}return new ft(i,a,t,n)},selectChild:vt.selectChild,selectChildren:vt.selectChildren,filter:function(e){"function"!==typeof e&&(e=(0,it.Z)(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i,a=t[r],l=a.length,u=o[r]=[],c=0;c<l;++c)(i=a[c])&&e.call(i,i.__data__,c,a)&&u.push(i);return new ft(o,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,i=Math.min(o,r),a=new Array(o),l=0;l<i;++l)for(var u,c=t[l],s=n[l],d=c.length,f=a[l]=new Array(d),h=0;h<d;++h)(u=c[h]||s[h])&&(f[h]=u);for(;l<o;++l)a[l]=t[l];return new ft(a,this._parents,this._name,this._id)},selection:function(){return new ut(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=ht(),o=this._groups,r=o.length,i=0;i<r;++i)for(var a,l=o[i],u=l.length,c=0;c<u;++c)if(a=l[c]){var s=L(a,t);j(a,e,n,c,l,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new ft(o,this._parents,e,n)},call:vt.call,nodes:vt.nodes,node:vt.node,size:vt.size,empty:vt.empty,each:vt.each,on:function(e,t){var n=this._id;return arguments.length<2?L(this.node(),n).on.on(e):this.each(function(e,t,n){var o,r,i=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?T:X;return function(){var a=i(this,e),l=a.on;l!==o&&(r=(o=l).copy()).on(t,n),a.on=r}}(n,e,t))},attr:function(e,t){var n=(0,Q.Z)(e),o="transform"===n?$:Ue;return this.attrTween(e,"function"===typeof t?(n.local?Qe:$e)(n,o,te(this,"attr."+e,t)):null==t?(n.local?We:Fe)(n):(n.local?Ge:qe)(n,o,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var o=(0,Q.Z)(e);return this.tween(n,(o.local?Je:et)(o,t))},style:function(e,t,n){var o="transform"===(e+="")?G:Ue;return null==t?this.styleTween(e,function(e,t){var n,o,r;return function(){var i=(0,ct.S)(this,e),a=(this.style.removeProperty(e),(0,ct.S)(this,e));return i===a?null:i===n&&a===o?r:r=t(n=i,o=a)}}(e,o)).on("end.style."+e,st(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var o,r,i;return function(){var a=(0,ct.S)(this,e),l=n(this),u=l+"";return null==l&&(this.style.removeProperty(e),u=l=(0,ct.S)(this,e)),a===u?null:a===o&&u===r?i:(r=u,i=t(o=a,l))}}(e,o,te(this,"style."+e,t))).each(function(e,t){var n,o,r,i,a="style."+t,l="end."+a;return function(){var u=X(this,e),c=u.on,s=null==u.value[a]?i||(i=st(t)):void 0;c===n&&r===s||(o=(n=c).copy()).on(l,r=s),u.on=o}}(this._id,e)):this.styleTween(e,function(e,t,n){var o,r,i=n+"";return function(){var a=(0,ct.S)(this,e);return a===i?null:a===o?r:r=t(o=a,n)}}(e,o,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==t)return this.tween(o,null);if("function"!==typeof t)throw new Error;return this.tween(o,function(e,t,n){var o,r;function i(){var i=t.apply(this,arguments);return i!==r&&(o=(r=i)&&function(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}(e,i,n)),o}return i._value=t,i}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(te(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function o(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&function(e){return function(t){this.textContent=e.call(this,t)}}(o)),t}return o._value=e,o}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o,r=L(this.node(),n).tween,i=0,a=r.length;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((null==t?J:ee)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?tt:nt)(t,e)):L(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?ot:rt)(t,e)):L(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){X(this,e).ease=t}}(t,e)):L(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;X(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,o=n._id,r=n.size();return new Promise((function(i,a){var l={value:a},u={value:function(){0===--r&&i()}};n.each((function(){var n=X(this,o),r=n.on;r!==e&&((t=(e=r).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),n.on=t})),0===r&&i()}))}},Symbol.iterator,vt[Symbol.iterator]);var gt={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function pt(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}d.ZP.prototype.interrupt=function(e){return this.each((function(){Y(this,e)}))},d.ZP.prototype.transition=function(e){var t,n;e instanceof ft?(t=e._id,e=e._name):(t=ht(),(n=gt).time=w(),e=null==e?null:e+"");for(var o=this._groups,r=o.length,i=0;i<r;++i)for(var a,l=o[i],u=l.length,c=0;c<u;++c)(a=l[c])&&j(a,e,t,c,l,n||pt(a,t));return new ft(o,this._parents,e,t)};var mt=function(e){return function(){return e}};function yt(e,t){var n=t.sourceEvent,o=t.target,r=t.transform,i=t.dispatch;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function bt(e,t,n){this.k=e,this.x=t,this.y=n}bt.prototype={constructor:bt,scale:function(e){return 1===e?this:new bt(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new bt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var xt=new bt(1,0,0);function wt(e){e.stopImmediatePropagation()}function St(e){e.preventDefault(),e.stopImmediatePropagation()}function Et(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function Ct(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function _t(){return this.__zoom||xt}function Nt(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Mt(){return navigator.maxTouchPoints||"ontouchstart"in this}function kt(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function Zt(){var e,t,n,i=Et,a=Ct,l=kt,d=Nt,f=Mt,h=[0,1/0],v=[[-1/0,-1/0],[1/0,1/0]],g=250,p=u,m=(0,o.Z)("start","zoom","end"),y=500,b=150,x=0,w=10;function S(e){e.property("__zoom",_t).on("wheel.zoom",Z,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",A).filter(f).on("touchstart.zoom",O).on("touchmove.zoom",D).on("touchend.zoom touchcancel.zoom",I).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function E(e,t){return(t=Math.max(h[0],Math.min(h[1],t)))===e.k?e:new bt(t,e.x,e.y)}function C(e,t,n){var o=t[0]-n[0]*e.k,r=t[1]-n[1]*e.k;return o===e.x&&r===e.y?e:new bt(e.k,o,r)}function _(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function N(e,t,n,o){e.on("start.zoom",(function(){M(this,arguments).event(o).start()})).on("interrupt.zoom end.zoom",(function(){M(this,arguments).event(o).end()})).tween("zoom",(function(){var e=this,r=arguments,i=M(e,r).event(o),l=a.apply(e,r),u=null==n?_(l):"function"===typeof n?n.apply(e,r):n,c=Math.max(l[1][0]-l[0][0],l[1][1]-l[0][1]),s=e.__zoom,d="function"===typeof t?t.apply(e,r):t,f=p(s.invert(u).concat(c/s.k),d.invert(u).concat(c/d.k));return function(e){if(1===e)e=d;else{var t=f(e),n=c/t[2];e=new bt(n,u[0]-t[0]*n,u[1]-t[1]*n)}i.zoom(null,e)}}))}function M(e,t,n){return!n&&e.__zooming||new k(e,t)}function k(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=a.apply(e,t),this.taps=0}function Z(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(i.apply(this,arguments)){var r=M(this,n).event(e),a=this.__zoom,u=Math.max(h[0],Math.min(h[1],a.k*Math.pow(2,d.apply(this,arguments)))),c=(0,s.Z)(e);if(r.wheel)r.mouse[0][0]===c[0]&&r.mouse[0][1]===c[1]||(r.mouse[1]=a.invert(r.mouse[0]=c)),clearTimeout(r.wheel);else{if(a.k===u)return;r.mouse=[c,a.invert(c)],Y(this),r.start()}St(e),r.wheel=setTimeout((function(){r.wheel=null,r.end()}),b),r.zoom("mouse",l(C(E(a,u),r.mouse[0],r.mouse[1]),r.extent,v))}}function P(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];if(!n&&i.apply(this,arguments)){var u=e.currentTarget,d=M(this,o,!0).event(e),f=(0,c.Z)(e.view).on("mousemove.zoom",(function(e){if(St(e),!d.moved){var t=e.clientX-g,n=e.clientY-p;d.moved=t*t+n*n>x}d.event(e).zoom("mouse",l(C(d.that.__zoom,d.mouse[0]=(0,s.Z)(e,u),d.mouse[1]),d.extent,v))}),!0).on("mouseup.zoom",(function(e){f.on("mousemove.zoom mouseup.zoom",null),(0,r.D)(e.view,d.moved),St(e),d.event(e).end()}),!0),h=(0,s.Z)(e,u),g=e.clientX,p=e.clientY;(0,r.Z)(e.view),wt(e),d.mouse=[h,this.__zoom.invert(h)],Y(this),d.start()}}function A(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(i.apply(this,arguments)){var r=this.__zoom,u=(0,s.Z)(e.changedTouches?e.changedTouches[0]:e,this),d=r.invert(u),f=r.k*(e.shiftKey?.5:2),h=l(C(E(r,f),u,d),a.apply(this,n),v);St(e),g>0?(0,c.Z)(this).transition().duration(g).call(N,h,u,e):(0,c.Z)(this).call(S.transform,h,u,e)}}function O(n){for(var o=arguments.length,r=new Array(o>1?o-1:0),a=1;a<o;a++)r[a-1]=arguments[a];if(i.apply(this,arguments)){var l,u,c,d,f=n.touches,h=f.length,v=M(this,r,n.changedTouches.length===h).event(n);for(wt(n),u=0;u<h;++u)c=f[u],d=[d=(0,s.Z)(c,this),this.__zoom.invert(d),c.identifier],v.touch0?v.touch1||v.touch0[2]===d[2]||(v.touch1=d,v.taps=0):(v.touch0=d,l=!0,v.taps=1+!!e);e&&(e=clearTimeout(e)),l&&(v.taps<2&&(t=d[0],e=setTimeout((function(){e=null}),y)),Y(this),v.start())}}function D(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r,i,a,u,c=M(this,n).event(e),d=e.changedTouches,f=d.length;for(St(e),r=0;r<f;++r)i=d[r],a=(0,s.Z)(i,this),c.touch0&&c.touch0[2]===i.identifier?c.touch0[0]=a:c.touch1&&c.touch1[2]===i.identifier&&(c.touch1[0]=a);if(i=c.that.__zoom,c.touch1){var h=c.touch0[0],g=c.touch0[1],p=c.touch1[0],m=c.touch1[1],y=(y=p[0]-h[0])*y+(y=p[1]-h[1])*y,b=(b=m[0]-g[0])*b+(b=m[1]-g[1])*b;i=E(i,Math.sqrt(y/b)),a=[(h[0]+p[0])/2,(h[1]+p[1])/2],u=[(g[0]+m[0])/2,(g[1]+m[1])/2]}else{if(!c.touch0)return;a=c.touch0[0],u=c.touch0[1]}c.zoom("touch",l(C(i,a,u),c.extent,v))}}function I(e){for(var o=arguments.length,r=new Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];if(this.__zooming){var a,l,u=M(this,r).event(e),d=e.changedTouches,f=d.length;for(wt(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),y),a=0;a<f;++a)l=d[a],u.touch0&&u.touch0[2]===l.identifier?delete u.touch0:u.touch1&&u.touch1[2]===l.identifier&&delete u.touch1;if(u.touch1&&!u.touch0&&(u.touch0=u.touch1,delete u.touch1),u.touch0)u.touch0[1]=this.__zoom.invert(u.touch0[0]);else if(u.end(),2===u.taps&&(l=(0,s.Z)(l,this),Math.hypot(t[0]-l[0],t[1]-l[1])<w)){var h=(0,c.Z)(this).on("dblclick.zoom");h&&h.apply(this,arguments)}}}return S.transform=function(e,t,n,o){var r=e.selection?e.selection():e;r.property("__zoom",_t),e!==r?N(e,t,n,o):r.interrupt().each((function(){M(this,arguments).event(o).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()}))},S.scaleBy=function(e,t,n,o){S.scaleTo(e,(function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)}),n,o)},S.scaleTo=function(e,t,n,o){S.transform(e,(function(){var e=a.apply(this,arguments),o=this.__zoom,r=null==n?_(e):"function"===typeof n?n.apply(this,arguments):n,i=o.invert(r),u="function"===typeof t?t.apply(this,arguments):t;return l(C(E(o,u),r,i),e,v)}),n,o)},S.translateBy=function(e,t,n,o){S.transform(e,(function(){return l(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),a.apply(this,arguments),v)}),null,o)},S.translateTo=function(e,t,n,o,r){S.transform(e,(function(){var e=a.apply(this,arguments),r=this.__zoom,i=null==o?_(e):"function"===typeof o?o.apply(this,arguments):o;return l(xt.translate(i[0],i[1]).scale(r.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,v)}),o,r)},k.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=(0,c.Z)(this.that).datum();m.call(e,this.that,new yt(e,{sourceEvent:this.sourceEvent,target:S,type:e,transform:this.that.__zoom,dispatch:m}),t)}},S.wheelDelta=function(e){return arguments.length?(d="function"===typeof e?e:mt(+e),S):d},S.filter=function(e){return arguments.length?(i="function"===typeof e?e:mt(!!e),S):i},S.touchable=function(e){return arguments.length?(f="function"===typeof e?e:mt(!!e),S):f},S.extent=function(e){return arguments.length?(a="function"===typeof e?e:mt([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),S):a},S.scaleExtent=function(e){return arguments.length?(h[0]=+e[0],h[1]=+e[1],S):[h[0],h[1]]},S.translateExtent=function(e){return arguments.length?(v[0][0]=+e[0][0],v[1][0]=+e[1][0],v[0][1]=+e[0][1],v[1][1]=+e[1][1],S):[[v[0][0],v[0][1]],[v[1][0],v[1][1]]]},S.constrain=function(e){return arguments.length?(l=e,S):l},S.duration=function(e){return arguments.length?(g=+e,S):g},S.interpolate=function(e){return arguments.length?(p=e,S):p},S.on=function(){var e=m.on.apply(m,arguments);return e===m?S:e},S.clickDistance=function(e){return arguments.length?(x=(e=+e)*e,S):Math.sqrt(x)},S.tapDistance=function(e){return arguments.length?(w=+e,S):w},S}bt.prototype},5848:function(e,t,n){n.d(t,{X:function(){return i}});var o=n(9439),r=n(7762);function i(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;var n,i=(0,r.Z)(e);try{for(i.s();!(n=i.n()).done;){var a=(0,o.Z)(n.value,2),l=a[0],u=a[1];if(!Object.is(u,t.get(l)))return!1}}catch(v){i.e(v)}finally{i.f()}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;var c,s=(0,r.Z)(e);try{for(s.s();!(c=s.n()).done;){var d=c.value;if(!t.has(d))return!1}}catch(v){s.e(v)}finally{s.f()}return!0}var f=Object.keys(e);if(f.length!==Object.keys(t).length)return!1;for(var h=0;h<f.length;h++)if(!Object.prototype.hasOwnProperty.call(t,f[h])||!Object.is(e[f[h]],t[f[h]]))return!1;return!0}}}]);
//# sourceMappingURL=7.cec690d8.chunk.js.map